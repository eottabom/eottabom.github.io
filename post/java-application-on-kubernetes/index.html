<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Eottabom&#x27;s Lab. - ì–´ëŠ ë”°ëœ»í•œ ë´„ë‚ ì´ ë‚˜ì—ê²Œë„ ì˜¤ê² ì§€... ê³µë¶€í•˜ëŠ” ê°œë°œì ê¸°ìˆ  ë¸”ë¡œê·¸</title><meta name="next-head-count" content="3"/><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5103032140213770" crossorigin="anonymous"></script><link rel="preload" href="/_next/static/css/8a6b784599c54824.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8a6b784599c54824.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-207c841e2405c83b.js" defer=""></script><script src="/_next/static/chunks/framework-64ad27b21261a9ce.js" defer=""></script><script src="/_next/static/chunks/main-85756c406a6be75a.js" defer=""></script><script src="/_next/static/chunks/pages/_app-395383c5e2f6be5e.js" defer=""></script><script src="/_next/static/chunks/664-d254d21a6fe56bff.js" defer=""></script><script src="/_next/static/chunks/167-b50821e02fe90a53.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bid%5D-4d80dccf46e467d6.js" defer=""></script><script src="/_next/static/B4H-FHvtcwtaNh-ZDIFct/_buildManifest.js" defer=""></script><script src="/_next/static/B4H-FHvtcwtaNh-ZDIFct/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="fixed top-0 left-0 w-full h-1 z-50 bg-transparent"><div class="h-full bg-gradient-to-r from-black via-blue-500 to-teal-400 transition-all duration-150" style="width:0%"></div></div><header class="flex justify-end items-center px-6 py-4"><div class="flex gap-6 items-center"><a class="text-black hover:text-blue-300" href="/"><span class="font-bold">Main</span></a><a class="text-black hover:text-blue-300 font-bold" href="/post/">Post</a><a class="text-black hover:text-blue-300 font-bold" href="/book/">Book-Review</a><a class="text-black hover:text-blue-300 font-bold" href="/about/">About</a></div></header><div class="max-w-[90rem] mx-auto px-6 py-20 flex gap-16"><main class="flex-1 prose prose-xl max-w-none"><h1 class="text-4xl font-bold mb-4">Java Application on kubernetes</h1><p class="text-gray-500 text-sm mb-8">2024-05-22</p><div class="flex flex-wrap gap-2 mb-8"><span class="px-2 py-1 text-mi font-medium bg-blue-50 text-blue-700 rounded-md dark:bg-blue-900 dark:text-blue-200">#<!-- -->Java</span><span class="px-2 py-1 text-mi font-medium bg-blue-50 text-blue-700 rounded-md dark:bg-blue-900 dark:text-blue-200">#<!-- -->kubernetes</span></div><article class="overflow-x-auto"><div class="my-4 px-4 py-3 rounded-md prose bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 text-blue-900 dark:text-blue-100"><div class="flex gap-2 text-blue-700 dark:text-blue-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-blue-700 dark:text-blue-300"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">kubernetes í™˜ê²½ì—ì„œ Java ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¦¬ì†ŒìŠ¤(CPU, Memory)ëŠ” <b>ì‹¤ì œ ì§€í‘œ ê¸°ë°˜</b> ìœ¼ë¡œ ì¡°ì •í•˜ëŠ” ê²ƒì´ ê°€ì¥ ë°”ëŒì§í•˜ë‹¤.</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-blue-700 dark:text-blue-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">í•˜ì§€ë§Œ, ì‹ ê·œ ì„œë¹„ìŠ¤ë‚˜ ì•„ì§ ì§€í‘œê°€ ì¶©ë¶„í•˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ìœ„í•´, ê° best practice ë¥¼ ì°¾ì•„ë³´ì•˜ê³ , ì•ˆì •ì ì¸ ì´ˆê¸° ì„¤ì • ê°€ì´ë“œë¥¼ ì •ë¦¬í•´ë³´ì•˜ë‹¤.</div></div></div>
<hr/>
<h2 id="best-practices-java-memory-arguments-for-containers"><a aria-hidden="true" tabindex="-1" href="#best-practices-java-memory-arguments-for-containers"><span class="icon icon-link"></span></a>Best Practices: Java Memory Arguments for Containers</h2>
<div class="my-4 px-4 py-3 rounded-md prose bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 text-indigo-900 dark:text-indigo-100"><div class="flex gap-2 text-indigo-700 dark:text-indigo-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-indigo-700 dark:text-indigo-300"><line x1="21" x2="3" y1="6" y2="6"></line><line x1="15" x2="3" y1="12" y2="12"></line><line x1="17" x2="3" y1="18" y2="18"></line></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://dzone.com/articles/best-practices-java-memory-arguments-for-container">Best Practices : Java Memory Arguments for Containers</a> ì— ëŒ€í•œ ë‚´ìš©</div></div></div>
<h3 id="ëª¨ë²”-ì‚¬ë¡€-1"><a aria-hidden="true" tabindex="-1" href="#ëª¨ë²”-ì‚¬ë¡€-1"><span class="icon icon-link"></span></a>ëª¨ë²” ì‚¬ë¡€ 1</h3>
<ul>
<li>í™ í¬ê¸° êµ¬ì„±ì— ì‚¬ìš©í•˜ëŠ” ì˜µì…˜ (<code>-XX: MaxRAMFraction</code>, <code>-XX: MaxRAMPercentage</code>, <code>-Xmx</code>) ì— ê´€ê³„ ì—†ì´ í•­ìƒ ì»¨í…Œì´ë„ˆì— <span class="text-red-600 font-bold">ìµœì†Œ 25%</span> ë” ë§ì€ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•œë‹¤.</li>
<li>Java Thread, Garbage Collection, Metaspace, Native Memory, Socket buffers ë¥¼ ìœ„í•œ ê³µê°„ì´ í•„ìš”í•˜ë‹¤.<!-- -->
<ul>
<li>ex) MaxRAMPercentage: 75</li>
</ul>
</li>
</ul>
<h3 id="ëª¨ë²”-ì‚¬ë¡€-2"><a aria-hidden="true" tabindex="-1" href="#ëª¨ë²”-ì‚¬ë¡€-2"><span class="icon icon-link"></span></a>ëª¨ë²” ì‚¬ë¡€ 2</h3>
<ul>
<li>ì´ˆê¸° í™ í¬ê¸°(<code>-XX:InitialRAMFraction</code>, <code>-XX:InitialRAMPercentage</code>, <code>-Xms</code>) ë¥¼ ìµœëŒ€ í™ í¬ê¸°(<code>-XX: MaxRAMFraction</code>, <code>-XX: MaxRAMPercentage</code>, <code>-Xmx</code>) ì™€ ë™ì¼í•œ í¬ê¸°ë¡œ ì„¤ì •í•œë‹¤.</li>
</ul>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><b>ì´ˆê¸° í™ í¬ê¸° = ìµœëŒ€ í™ í¬ê¸° ì„¤ì •ì‹œ ì¥ì </b></div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-purple-700 dark:text-purple-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://blog.ycrash.io/benefits-of-setting-initial-and-maximum-memory-size-to-the-same-value/">Benefits of setting initial and maximum memory size to the same value</a></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">âœ” í™ í¬ê¸°ê°€ ì´ˆê¸° í• ë‹¹ í¬ê¸°ë³´ë‹¤ ì»¤ì§ˆ ë•Œë§ˆë‹¤ JVM ì´ ì¼ì‹œ ì¤‘ì§€ ë˜ì–´ì„œ, <code>ì´ˆê¸° í™ í¬ê¸° = ìµœëŒ€ í™ í¬ê¸°</code> ë¡œ ì„¤ì •í•˜ë©´ Garbage Collection pause time ì´ ë‚®ì•„ì§„ë‹¤.</div></div></div>
<h3 id="ëª¨ë²”-ì‚¬ë¡€-3"><a aria-hidden="true" tabindex="-1" href="#ëª¨ë²”-ì‚¬ë¡€-3"><span class="icon icon-link"></span></a>ëª¨ë²” ì‚¬ë¡€ 3</h3>
<ul>
<li><code>XX: MaxRAMFraction</code>, <code>XX:MaxRAMPercentage</code> ë³´ë‹¤ëŠ” <code>Xmx</code> ì˜µì…˜ì„ ì‚¬ìš©í•´ì„œ ì„¸ë°€í•˜ê³  ì •ë°€í•œ ê°’ì„ ì„¤ì •í•´ë¼.</li>
<li>Container ì˜ ë©”ëª¨ë¦¬ ì„¤ì •ì— ë”°ë¼ ì¡°ì •ë˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ì„¸ë°€í•˜ê³  ì •ë°€í•œ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<hr/>
<h2 id="best-practices-for-java-apps-on-kubernetes"><a aria-hidden="true" tabindex="-1" href="#best-practices-for-java-apps-on-kubernetes"><span class="icon icon-link"></span></a>Best Practices for Java Apps on Kubernetes</h2>
<div class="my-4 px-4 py-3 rounded-md prose bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 text-indigo-900 dark:text-indigo-100"><div class="flex gap-2 text-indigo-700 dark:text-indigo-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-indigo-700 dark:text-indigo-300"><line x1="21" x2="3" y1="6" y2="6"></line><line x1="15" x2="3" y1="12" y2="12"></line><line x1="17" x2="3" y1="18" y2="18"></line></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://piotrminkowski.com/2023/02/13/best-practices-for-java-apps-on-kubernetes/">Best Practices for Java Apps on Kubernetes</a> ì¼ë¶€ ë‚´ìš©</div></div></div>
<h3 id="1-dont-set-limits-too-low"><a aria-hidden="true" tabindex="-1" href="#1-dont-set-limits-too-low"><span class="icon icon-link"></span></a>1. Don&#x27;t Set Limits Too Low</h3>
<ul>
<li>CPU, Memory ì˜ Limit ì„ ë„ˆë¬´ ë‚®ê²Œ ì„¤ì •í•˜ì§€ ë§ˆë¼.</li>
<li>Java ëŠ” ì¼ë°˜ì ì¸ ì‘ì—…ì—ì„œ ë§ì€ CPU ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë”ë¼ë„, ë¹ ë¥´ê²Œ ì‹œì‘í•˜ë ¤ë©´ ë§ì€ CPU ê°€ í•„ìš”í•˜ë‹¤.</li>
</ul>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">CPU ì œí•œ ì„¤ì •ì„ ê¶Œí•œí•˜ì§€ ì•ŠëŠ” ê¸€ : <a href="https://home.robusta.dev/blog/stop-using-cpu-limits">https://home.robusta.dev/blog/stop-using-cpu-limits</a></div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-purple-700 dark:text-purple-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">í•´ë‹¹ ê¸€ì— ëŒ€í•œ ë°˜ë°• ê¸€ : <a href="https://dnastacio.medium.com/why-you-should-keep-using-cpu-limits-on-kubernetes-60c4e50dfc61">https://dnastacio.medium.com/why-you-should-keep-using-cpu-limits-on-kubernetes-60c4e50dfc61</a></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">âœ” ê²°ë¡ ì ìœ¼ë¡œëŠ” CPU, Memory Limit ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ëŠ” ë‚´ìš©</div></div></div>
<h3 id="2-consider-memory-usage-first"><a aria-hidden="true" tabindex="-1" href="#2-consider-memory-usage-first"><span class="icon icon-link"></span></a>2. Consider Memory Usage First</h3>
<ul>
<li>kubernetes ì—ì„œ ì•±ì„ ì‹¤í–‰í•˜ê¸° ì „ì— ìµœì†Œí•œ ì˜ˆìƒ ë¡œë“œì—ì„œ ì•±ì´ ì†Œë¹„í•˜ëŠ” ë©”ëª¨ë¦¬ ëŸ‰ì„ ì¸¡ì • í•´ì•¼í•œë‹¤.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line">Heap <span class="token operator">=</span> Total Container Memory - Non heap - Headroom
</span><span class="code-line">
</span><span class="code-line">Non Heap <span class="token operator">=</span> Direct Memory + Metaspace + Reserved Code Cache + <span class="token punctuation">(</span>Thread Stack * Thread Count<span class="token punctuation">)</span>
</span></code></pre>
<h3 id="3-proper-liveness-and-readiness-probes"><a aria-hidden="true" tabindex="-1" href="#3-proper-liveness-and-readiness-probes"><span class="icon icon-link"></span></a>3. Proper Liveness and Readiness Probes</h3>
<ul>
<li><code>LivenessProbe</code> ì™€ <code>ReadinessProbe</code> ë¥¼ ì„¤ì •í•´ë¼.</li>
<li><code>LivenessProbe</code> ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ì‹œì‘í• ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ”ë° ì‚¬ìš©ë˜ê³ , ì–´ë–¤ ì´ìœ ë¡œë“  Application ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ì‹œì‘í•˜ëŠ” ê²ƒì´ í•©ë¦¬ì ì¼ ìˆ˜ ìˆë‹¤.</li>
<li><code>ReadinessProbe</code> ëŠ” ì»¨í…Œì´ë„ˆê°€ ë“¤ì–´ì˜¤ëŠ” íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ ê²°ì •í•˜ëŠ”ë° ì‚¬ìš©ë˜ê³ , Pod ê°€ ì¤€ë¹„ë˜ì§€ ì•Šì€ ê²ƒìœ¼ë¡œ ì¸ì‹ë˜ë©´ endpoint ì—ì„œ ì œê±°ëœë‹¤.<!-- -->
<ul>
<li><code>ReadinessProbe</code> ê°€ ì‹¤íŒ¨í•˜ë”ë¼ë„ Pod ëŠ” ë‹¤ì‹œ ì‹œì‘ë˜ì§€ ì•ŠëŠ”ë‹¤.</li>
</ul>
</li>
</ul>
<hr/>
<h2 id="kubernetes-and-the-jvm"><a aria-hidden="true" tabindex="-1" href="#kubernetes-and-the-jvm"><span class="icon icon-link"></span></a>Kubernetes and the JVM</h2>
<div class="my-4 px-4 py-3 rounded-md prose bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 text-indigo-900 dark:text-indigo-100"><div class="flex gap-2 text-indigo-700 dark:text-indigo-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-indigo-700 dark:text-indigo-300"><line x1="21" x2="3" y1="6" y2="6"></line><line x1="15" x2="3" y1="12" y2="12"></line><line x1="17" x2="3" y1="18" y2="18"></line></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://xebia.com/blog/kubernetes-and-the-jvm/">Kubernetes and the JVM</a> ì˜ ì¼ë¶€ ë‚´ìš©</div></div></div>
<div class="my-4 px-4 py-3 rounded-md prose bg-gray-50 dark:bg-gray-900/30 border-l-4 border-gray-400 text-gray-900 dark:text-gray-100"><div class="flex gap-2 text-gray-700 dark:text-gray-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-gray-700 dark:text-gray-300"><circle cx="12" cy="12" r="10"></circle><path d="M17 12h.01"></path><path d="M12 12h.01"></path><path d="M7 12h.01"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">If the JVM runs out of memory, it may result in the application crashing or other unexpected behavior.</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-gray-700 dark:text-gray-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">To avoid this, it&#x27;s essential to set appropriate requests and limits for memory</div></div></div>
<h3 id="request-limits-and-the-jvm"><a aria-hidden="true" tabindex="-1" href="#request-limits-and-the-jvm"><span class="icon icon-link"></span></a>Request, Limits and the JVM</h3>
<ul>
<li>request / limit memory ë³´ë‹¤ ì‘ì€ <code>-Xmx</code> ë¥¼ ì„¤ì •í•œë‹¤.</li>
<li>request / limit memory ëŠ” ë™ì¼í•˜ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.<!-- -->
<ul>
<li>QoS Guaranteed ë¥¼ ì ìš©í•´ë¼.</li>
</ul>
</li>
</ul>
<h3 id="helpers-for-configuring-the-heap-size"><a aria-hidden="true" tabindex="-1" href="#helpers-for-configuring-the-heap-size"><span class="icon icon-link"></span></a>&quot;Helpers&quot; for configuring the Heap Size</h3>
<ul>
<li>heap í¬ê¸°ë¥¼ ê³ ì •í•˜ì§€ ë§ê³ , <code>-XX: InitialRAMPercentage</code> / <code>-XX: MaxRAMPercentage</code> ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ì˜ ë°±ë¶„ìœ¨ë¡œ ì„¤ì •í•œë‹¤.</li>
<li>kubernetes ì™€ ê°™ì´ Pod í™•ì¥, ë…¸ë“œ í™•ì¥ ë“± ê¸°íƒ€ ìš”ì¸ìœ¼ë¡œ ì¸í•´ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ê°€ ë³€ë™ ë  ìˆ˜ ìˆëŠ” ë™ì  í™˜ê²½ì—ì„œëŠ” ì¤‘ìš”í•œ ì—­í• ì´ ë  ìˆ˜ ìˆë‹¤.</li>
<li>request ì™€ limit ì„ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ kubernetes ì—ì„œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì•ˆì •ì ì´ê³ , ê¶Œì¥ë˜ëŠ” ì ‘ê·¼ ë°©ë²•ì´ë‹¤.</li>
</ul>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">request / limits + -XX: InitialRAMPercentage / -XX: MaxRAMPercentage</div></div></div>
<h3 id="so-how-could-we-find-these-kubernetes-memory-settings-request--limit-"><a aria-hidden="true" tabindex="-1" href="#so-how-could-we-find-these-kubernetes-memory-settings-request--limit-"><span class="icon icon-link"></span></a>So, how could we find these kubernetes memory settings (request / limit) ?</h3>
<ul>
<li>Non heap memory ë„ ê³ ë ¤í•´ë¼.</li>
<li>RAM ê¸°ë°˜ íŒŒì¼ ì‹œìŠ¤í…œë„ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.</li>
<li>-Xmx í™ì´ ì•„ë‹Œ ë©”ëª¨ë¦¬ê°€ ì†Œì§„ë˜ì–´ OutOfMemoryError ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.</li>
<li>Metaspace Memory ëŠ” -XX<div></div> ë¡œ êµ¬ì„±ê°€ëŠ¥í•˜ê³ , ê²½í—˜ì ì¸ ê·œì¹™ì€ ë©”ëª¨ë¦¬ë³´ë‹¤ 16ë°° ë‚®ì€ ê°’ìœ¼ë¡œ ì œí•œ í•˜ëŠ” ê²ƒì´ë‹¤.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line">JVM ì— ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ê°€ 4GB ì¼ ë•Œ <span class="token operator">=</span> XX:MaxMetaspaceSize<span class="token operator">=</span>256M
</span></code></pre>
<h3 id="garbage-collection"><a aria-hidden="true" tabindex="-1" href="#garbage-collection"><span class="icon icon-link"></span></a>Garbage Collection</h3>
<ul>
<li>ê°€ë¹„ì§€ ìˆ˜ì§‘ì˜ ë¹ˆë„ì™€ ì‹œê°„ì€ JVM Application ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì— í° ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line"><span class="token parameter variable">-XX:+UseG1GC</span>
</span><span class="code-line"><span class="token parameter variable">-XX:MaxGCPauseMillis</span>
</span></code></pre>
<hr/>
<h2 id="some-best-practices-when-running-jvm-on-the-kubernetes-cluster"><a aria-hidden="true" tabindex="-1" href="#some-best-practices-when-running-jvm-on-the-kubernetes-cluster"><span class="icon icon-link"></span></a>Some best practices when running JVM on the Kubernetes cluster</h2>
<div class="my-4 px-4 py-3 rounded-md prose bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 text-indigo-900 dark:text-indigo-100"><div class="flex gap-2 text-indigo-700 dark:text-indigo-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-indigo-700 dark:text-indigo-300"><line x1="21" x2="3" y1="6" y2="6"></line><line x1="15" x2="3" y1="12" y2="12"></line><line x1="17" x2="3" y1="18" y2="18"></line></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://softwaremill.com/jvm-and-kubernetes-walk-into-a-bar/">Some best practices when running JVM on the Kubernetes cluster</a> ì— ëŒ€í•œ ìš”ì•½</div></div></div>
<ol>
<li>request / limit ì„¤ì •ì„ í•´ë¼.</li>
<li>request / limit ê°’ì„ ë™ì¼í•œ ê°’ìœ¼ë¡œ ì„¤ì •í•´ë¼.</li>
<li>XX: ActiveProcessorCount í”Œë˜ê·¸ë¥¼ ì„¤ì •í•˜ì—¬ ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ì–´ ìˆ˜ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•´ë¼.</li>
<li>XX: MaxRAMPercentage ìµœëŒ€ í™ í¬ê¸° ê°’ì„ 60% ì •ë„ë¡œ ë§ì¶”ì–´ë¼.</li>
<li>UseContainerSupport ë¥¼ ë¹„í™œì„±í™”í•´ë¼.</li>
</ol>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">UseContainerSupport ë¥¼ ë¹„í™œì„±í™”í•˜ë©´ JVM ì´ Container ê°€ ì‹¤í–‰ì¤‘ì¸ host ì¦‰, worker node ì˜ ë¦¬ì†ŒìŠ¤ ì •ë³´ë¥¼ ë°”ë¼ë³¸ë‹¤.</div></div></div>
<hr/>
<h2 id="alibaba-cloud---best-practices-for-jvm-heap-size-configuration"><a aria-hidden="true" tabindex="-1" href="#alibaba-cloud---best-practices-for-jvm-heap-size-configuration"><span class="icon icon-link"></span></a>alibaba cloud - Best practices for jvm heap size configuration</h2>
<div class="my-4 px-4 py-3 rounded-md prose bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 text-indigo-900 dark:text-indigo-100"><div class="flex gap-2 text-indigo-700 dark:text-indigo-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-indigo-700 dark:text-indigo-300"><line x1="21" x2="3" y1="6" y2="6"></line><line x1="15" x2="3" y1="12" y2="12"></line><line x1="17" x2="3" y1="18" y2="18"></line></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://www.alibabacloud.com/help/en/sae/use-cases/best-practices-for-jvm-heap-size-configuration">alibaba cloud - Best practices for jvm heap size configuration</a> ì— ëŒ€í•œ ë‚´ìš©</div></div></div>
<h3 id="use-the--xms-and--xms-options-to-control-heap-size"><a aria-hidden="true" tabindex="-1" href="#use-the--xms-and--xms-options-to-control-heap-size"><span class="icon icon-link"></span></a>Use the -Xms and -Xms options to control heap size</h3>
<h4 id="ê¶Œì¥ë˜ëŠ”-jvm-heap-size"><a aria-hidden="true" tabindex="-1" href="#ê¶Œì¥ë˜ëŠ”-jvm-heap-size"><span class="icon icon-link"></span></a>ê¶Œì¥ë˜ëŠ” JVM heap size</h4>
<table><thead><tr><th>Memory</th><th>Heap Size</th></tr></thead><tbody><tr><td>1 GB</td><td>600 MB</td></tr><tr><td>2 GB</td><td>1,434 MB</td></tr><tr><td>4 GB</td><td>2,867 MB</td></tr><tr><td>8 GB</td><td>5,734 MB</td></tr></tbody></table>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line">ex<span class="token punctuation">)</span> 4GB ì¼ ë•Œ, <span class="token assign-left variable">MaxRAMPercentage</span><span class="token operator">=</span><span class="token number">70.0</span> ìœ¼ë¡œ ì„¤ì •í•˜ë©´ JVM ì€ ìµœëŒ€ <span class="token number">2</span>.8GB í™ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹
</span></code></pre>
<hr/>
<h2 id="cloudbees---java-heap-settings-best-practice"><a aria-hidden="true" tabindex="-1" href="#cloudbees---java-heap-settings-best-practice"><span class="icon icon-link"></span></a>CloudBees - Java Heap settings Best Practice</h2>
<div class="my-4 px-4 py-3 rounded-md prose bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 text-indigo-900 dark:text-indigo-100"><div class="flex gap-2 text-indigo-700 dark:text-indigo-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-indigo-700 dark:text-indigo-300"><line x1="21" x2="3" y1="6" y2="6"></line><line x1="15" x2="3" y1="12" y2="12"></line><line x1="17" x2="3" y1="18" y2="18"></line></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://docs.cloudbees.com/docs/cloudbees-ci-kb/latest/best-practices/jvm-memory-settings-best-practice">CloudBees - Java Heap settings Best Practice</a> ì— ëŒ€í•œ ë‚´ìš©</div></div></div>
<h3 id="encure-container-memory-limits--requests-are-equal-and-use--xx---xx"><a aria-hidden="true" tabindex="-1" href="#encure-container-memory-limits--requests-are-equal-and-use--xx---xx"><span class="icon icon-link"></span></a>Encure container memory limits / requests are equal and use -XX<div></div> / -XX<div></div></h3>
<ul>
<li>-Xmx, -Xms ëŒ€ì‹  -XX<div></div> / -XX: MaxRAMPercentage ì„ ì‚¬ìš©í•´ë¼.</li>
<li>VM í™ / ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ë¹„ìœ¨ì€ 0.5 ì€ ë¶ˆì•ˆì •í•œ ê²ƒìœ¼ë¡œ ì•Œë ¤ì¡Œë‹¤.</li>
</ul>
<hr/>
<h2 id="azure---kubernetes-ìš©-java-ì• í”Œë¦¬ì¼€ì´ì…˜-ì»¨í…Œì´ë„ˆí™”--ìë°”-ë©”ëª¨ë¦¬-ê´€ë¦¬"><a aria-hidden="true" tabindex="-1" href="#azure---kubernetes-ìš©-java-ì• í”Œë¦¬ì¼€ì´ì…˜-ì»¨í…Œì´ë„ˆí™”--ìë°”-ë©”ëª¨ë¦¬-ê´€ë¦¬"><span class="icon icon-link"></span></a>Azure - Kubernetes ìš© Java ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆí™” / ìë°” ë©”ëª¨ë¦¬ ê´€ë¦¬</h2>
<div class="my-4 px-4 py-3 rounded-md prose bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 text-indigo-900 dark:text-indigo-100"><div class="flex gap-2 text-indigo-700 dark:text-indigo-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-indigo-700 dark:text-indigo-300"><line x1="21" x2="3" y1="6" y2="6"></line><line x1="15" x2="3" y1="12" y2="12"></line><line x1="17" x2="3" y1="18" y2="18"></line></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://learn.microsoft.com/ko-kr/azure/developer/java/containers/overview">Azure - Kubernetes ìš© Java ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆí™”</a></div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-indigo-700 dark:text-indigo-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://learn.microsoft.com/en-us/azure/spring-apps/concepts-for-java-memory-management">Azure - Kubernetes ìš© Java ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”ëª¨ë¦¬</a></div></div></div>
<ol>
<li>CPU / Memory request / limit ì„ ë™ì¼í•œ ê°’ì„ ì„¤ì •í•œë‹¤.</li>
<li>JVM ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œì„¸ì„œ ì´í•´</li>
</ol>
<ul>
<li>Kubernetes CPU í• ë‹¹ëŸ‰ì€ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” CPU ìˆ˜ê°€ ì•„ë‹ˆë¼ í”„ë¡œì„¸ìŠ¤ì—ì„œ CPU ì— ì†Œìš”ë˜ëŠ” ì‹œê°„ê³¼ ê´€ë ¨ ìˆë‹¤.</li>
<li>JVM ê³¼ ê°™ì€ ë‹¤ì¤‘ ìŠ¤ë ˆë“œ ëŸ°íƒ€ì„ì€ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ìˆëŠ” ì—¬ëŸ¬ í”„ë¡œì„¸ì„œë¥¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</li>
<li>ì»¨í…Œì´ë„ˆ í•˜ë‚˜ì˜ CPU ì œí•œì´ ìˆë”ë¼ë„ JVM ì— ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line"><span class="token parameter variable">-XX:ActiveProcessorCount</span><span class="token operator">=</span>N
</span></code></pre>
<ol start="3">
<li>Default maximum heap size</li>
</ol>
<ul>
<li>Azure Spring App ì€ ê¸°ë³¸ì ìœ¼ë¡œ heap memory size ê°€ 50~80% ìœ¼ë¡œ ì„¤ì •ëœë‹¤.</li>
</ul>
<pre><code class="code-highlight"><span class="code-line">1GB ë³´ë‹¤ ì‘ìœ¼ë©´ 50%
</span><span class="code-line">1GB &lt; app memory &lt; 2GB = 60%
</span><span class="code-line">2GB &lt; app memory &lt; 3GB = 70%
</span><span class="code-line">3GB &lt; app memory = 80%
</span></code></pre>
<hr/>
<h2 id="pretius---jvm-kubernetes-optimizing-kubernetes-for-java-developers"><a aria-hidden="true" tabindex="-1" href="#pretius---jvm-kubernetes-optimizing-kubernetes-for-java-developers"><span class="icon icon-link"></span></a>Pretius - JVM Kubernetes: Optimizing Kubernetes for Java Developers</h2>
<div class="my-4 px-4 py-3 rounded-md prose bg-indigo-50 dark:bg-indigo-900/30 border-l-4 border-indigo-400 text-indigo-900 dark:text-indigo-100"><div class="flex gap-2 text-indigo-700 dark:text-indigo-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-indigo-700 dark:text-indigo-300"><line x1="21" x2="3" y1="6" y2="6"></line><line x1="15" x2="3" y1="12" y2="12"></line><line x1="17" x2="3" y1="18" y2="18"></line></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://pretius.com/blog/jvm-kubernetes/">Pretius - JVM Kubernetes: Optimizing Kubernetes for Java Developers</a> ì— ëŒ€í•œ ë‚´ìš©</div></div></div>
<h3 id="jvm-kubernetes---memory-limit-and-usage"><a aria-hidden="true" tabindex="-1" href="#jvm-kubernetes---memory-limit-and-usage"><span class="icon icon-link"></span></a>JVM Kubernetes - memory limit and usage</h3>
<div class="my-4 px-4 py-3 rounded-md prose bg-gray-50 dark:bg-gray-900/30 border-l-4 border-gray-400 text-gray-900 dark:text-gray-100"><div class="flex gap-2 text-gray-700 dark:text-gray-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-gray-700 dark:text-gray-300"><circle cx="12" cy="12" r="10"></circle><path d="M17 12h.01"></path><path d="M12 12h.01"></path><path d="M7 12h.01"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">&quot;The default limits are very small, so you should always set the memory limits in your java application when running it in a container&quot;</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-gray-700 dark:text-gray-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">ê¸°ë³¸ ì„¤ì •ì€ ë‚®ìœ¼ë‹ˆ í•­ìƒ memory limit ì„ ì„¤ì •í•´ë¼.</div></div></div>
<h4 id="ë©”ëª¨ë¦¬-í• ë‹¹ëŸ‰-ê³„ì‚°-calculating-memory-usage"><a aria-hidden="true" tabindex="-1" href="#ë©”ëª¨ë¦¬-í• ë‹¹ëŸ‰-ê³„ì‚°-calculating-memory-usage"><span class="icon icon-link"></span></a>ë©”ëª¨ë¦¬ í• ë‹¹ëŸ‰ ê³„ì‚° (Calculating memory usage)</h4>
<ol>
<li>SYSTEM AND CLASS DATA</li>
</ol>
<ul>
<li>ì‹œìŠ¤í…œ ë° í´ë˜ìŠ¤ ë°ì´í„°ëŠ” ìˆ˜ì‹­ MBë§Œ ì‚¬ìš©í•  ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë‹ˆ 50MB ë¡œ ì„¤ì •í•˜ëŠ” ê²Œ ì¢‹ë‹¤.</li>
</ul>
<ol start="2">
<li>THREADS</li>
</ol>
<ul>
<li>ì‚¬ìš©ì¤‘ì¸ Thread ìˆ˜ì— ìì²´ ì•ˆì „ ê³„ìˆ˜ë¥¼ ê³±í•˜ì—¬ í•„ìš”í•œ ë©”ëª¨ë¦¬ë¥¼ ì¶”ì •í•´ë¼.</li>
</ul>
<ol start="3">
<li>MAXIMUM HEAP SIZE</li>
</ol>
<ul>
<li>ì»¨í…Œì´ë„ˆì˜ ì•½ 75~80% ë¡œ ì´ˆê¸° í™ ì‚¬ì´ì¦ˆë¥¼ ì§€ì •í•´ë¼.</li>
</ul>
<ol start="4">
<li>JVM Kubernetes - CPU usage</li>
</ol>
<div class="my-4 px-4 py-3 rounded-md prose bg-gray-50 dark:bg-gray-900/30 border-l-4 border-gray-400 text-gray-900 dark:text-gray-100"><div class="flex gap-2 text-gray-700 dark:text-gray-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-gray-700 dark:text-gray-300"><circle cx="12" cy="12" r="10"></circle><path d="M17 12h.01"></path><path d="M12 12h.01"></path><path d="M7 12h.01"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">&quot;if your container CPU limits is too low, your application will be extremely slow under heavy stress. Your SLA commitment on request handling time will likely be breached.&quot;</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-gray-700 dark:text-gray-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">CPU limit ì´ ë„ˆë¬´ ë‚®ìœ¼ë©´, ì–´í”Œë¦¬ì¼€ì´ì…˜ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤.</div></div></div>
<ol start="5">
<li>Other impacts of Kubernetes CPU limits</li>
</ol>
<ul>
<li>-XX: ActiveProcessorCount í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ Java CPU ìˆ˜ë¥¼ limit ~ 2ë°°ë¡œ ì„¤ì •í•œë‹¤.</li>
</ul>
<ol start="6">
<li>Java ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì¤‘ìš”í•œ pool ì— ëŒ€í•´ ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•œë‹¤.</li>
<li>Garbage collection</li>
</ol>
<ul>
<li>ì¼ë°˜ì ì¸ 1GB memory, 2 CPU java ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ëŠ” ë³‘ë ¬ GC ë¥¼ ì‚¬ìš©í•´ë¼.</li>
<li>í™ì´ ì•½ 2~4GB ì¸ ê²½ìš° G1(JDK &lt; 17) /Z GC(JDK +17) ë¡œ ì „í™˜í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</li>
</ul>
<br/>
<h2 id="summary"><a aria-hidden="true" tabindex="-1" href="#summary"><span class="icon icon-link"></span></a>Summary</h2>
<hr/>
<p>ìœ„ì˜ ë‚´ìš©ì„ ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬ í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.</p>
<ol>
<li>ì´ˆê¸° í™ ì‚¬ì´ì¦ˆì™€ ìµœëŒ€ í™ ì‚¬ì´ì¦ˆë¥¼ ë™ì¼í•˜ê²Œ ë§ì¶˜ë‹¤.</li>
</ol>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line">ex<span class="token punctuation">)</span> <span class="token parameter variable">-Xms</span> <span class="token operator">=</span> <span class="token parameter variable">-Xmx</span>
</span></code></pre>
<ol start="2">
<li>Guaranteed QoS ì„¤ì •ì„ í•´ë¼.</li>
</ol>
<ul>
<li>request / limit ë™ì¼í•˜ê²Œ ë§ì¶”ì§€ ì•ŠëŠ”ë‹¤ë©´, ë„ˆë¬´ ì°¨ì´ê°€ ë‚˜ì§€ ì•ŠëŠ” ê°’ìœ¼ë¡œ ì„¤ì •í•œë‹¤.</li>
<li>request ëŠ” <span class="text-blue-600 font-bold">í‰ê·  ì‚¬ìš©ëŸ‰ + 10%, limit ì€ peek ì‚¬ìš©ëŸ‰ ì¤‘ ìµœëŒ€ ì‚¬ìš©ëŸ‰ </span> ìœ¼ë¡œ ì„¤ì •í•œë‹¤.</li>
</ul>
<ol start="3">
<li>-Xms, -Xmx ë³´ë‹¤ëŠ” MaxRAMPercentage ë¥¼ ì¤€ë‹¤. (ì¼ë¶€ëŠ” -Xms, -Xmx ì™€ ê°™ì´ ì„¸ë°€í•œ ê°’ì„ ì£¼ëŠ”ê²Œ ì¢‹ë‹¤ê³  ë§í•¨)</li>
</ol>
<ul>
<li>MaxRAMPercentage ì˜µì…˜ì„ ì£¼ë©´ -xmx ì˜µì…˜ì€ ë¬´ì‹œëœë‹¤. (InitialRAMPercentage ì˜µì…˜ì„ ì£¼ë©´ -xms ëŠ” ë¬´ì‹œë¨)</li>
<li>ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ê² ì§€ë§Œ, <span class="text-blue-600 font-bold">ëŒ€ë¶€ë¶„ 80.0 ~ 75.0 ì •ë„ë¡œ ê¶Œì¥</span>í•˜ê³  ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ë‚­ë¹„í•˜ì§€ ì•ŠëŠ”ë‹¤.</li>
<li>ë‹¨, JDK 17 ë¶€í„° ê°€ëŠ¥í•˜ë‹¤. (ì›ë˜ëŠ” JDK 8 ë¶€í„° ì§€ì›í–ˆì§€ë§Œ Container ë¡œ ì¸ì‹ì„ í•˜ì§€ ëª»í•˜ëŠ” ë²„ê·¸ê°€ ìˆì—ˆê³ , JDK 13 ì—ì„œ ìˆ˜ì •ë˜ì—ˆë‹¤.)</li>
</ul>
<ol start="4">
<li>LivenessProbe ì™€ ReadinessProbe ë¥¼ ì„¤ì •í•´ì¤€ë‹¤.</li>
<li>XX: ActiveProcessorCount í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ limit CPU ì˜ 2ë°°ë¡œ ì„¤ì •í•œë‹¤.</li>
<li>ë³‘ë ¬ GC ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, í™ì„ ë§ì´ ì‚¬ìš©í•˜ë©´ G1/Z GC ë¥¼ ì‚¬ìš©í•´ë¼.</li>
</ol>
<h2 id="-key-summary-"><a aria-hidden="true" tabindex="-1" href="#-key-summary-"><span class="icon icon-link"></span></a>ğŸ”‘ Key Summary !!</h2>
<hr/>
<h3 id="ë©”ëª¨ë¦¬-ì „ëµ-heap--non-heap--ì—¬ìœ ë¶„"><a aria-hidden="true" tabindex="-1" href="#ë©”ëª¨ë¦¬-ì „ëµ-heap--non-heap--ì—¬ìœ ë¶„"><span class="icon icon-link"></span></a>ë©”ëª¨ë¦¬ ì „ëµ (Heap / Non-heap / ì—¬ìœ ë¶„)</h3>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">Container ë©”ëª¨ë¦¬ ëŒ€ë¹„ Heap ë§Œ ìƒê°í•˜ì§€ ë§ê³ , <b>Non-heap + thread stack + native memory + buffer</b> ë“±ì„ í•©ì‚°í•´ì•¼í•œë‹¤.</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-purple-700 dark:text-purple-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">ì´ˆê¸°ì—ëŠ” <b>Container ë©”ëª¨ë¦¬ì˜ 60 ~ 70% ìˆ˜ì¤€ì˜ heap ìƒí•œ</b> ì„ ë‘ê³  ë‚˜ë¨¸ì§€ë¥¼ ì—¬ìœ ë¶„ìœ¼ë¡œ í™•ë³´í•˜ëŠ” ë°©ì‹ì´ ì•ˆì „í•˜ë‹¤.</div></div></div>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line">Heap ~<span class="token operator">=</span> ContainerMemory Ã— <span class="token number">0.60</span> ~ <span class="token number">0.75</span>
</span><span class="code-line">Non-heap <span class="token operator">=</span> Direct + Metaspace + CodeCache + <span class="token punctuation">(</span>ThreadStack Ã— ThreadCount<span class="token punctuation">)</span>
</span><span class="code-line">Headroom <span class="token operator">=</span> ìµœì†Œ <span class="token number">20</span>~25% ê¶Œì¥
</span></code></pre>
<h4 id="1-ê¶Œì¥-jvm-í”Œë˜ê·¸"><a aria-hidden="true" tabindex="-1" href="#1-ê¶Œì¥-jvm-í”Œë˜ê·¸"><span class="icon icon-link"></span></a>1) ê¶Œì¥ JVM í”Œë˜ê·¸</h4>
<ul>
<li>í¼ì„¼íŠ¸ ê¸°ë°˜ì€ ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ë³€ë™ì— ìœ ì—°í•˜ë‹¤.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line"><span class="token parameter variable">-XX:InitialRAMPercentage</span><span class="token operator">=</span><span class="token number">60.0</span>
</span><span class="code-line"><span class="token parameter variable">-XX:MaxRAMPercentage</span><span class="token operator">=</span><span class="token number">70.0</span>
</span><span class="code-line"><span class="token comment"># í¼ì„¼íŠ¸ ê¸°ë°˜ì„ ì“°ë©´ -Xms/-XmxëŠ” ë¬´ì‹œë¨</span>
</span></code></pre>
<h4 id="2-ê³ ì •-heap-ì´-í•„ìš”í•œ-ê²½ìš°"><a aria-hidden="true" tabindex="-1" href="#2-ê³ ì •-heap-ì´-í•„ìš”í•œ-ê²½ìš°"><span class="icon icon-link"></span></a>2) ê³ ì • Heap ì´ í•„ìš”í•œ ê²½ìš°</h4>
<ul>
<li>ì„±ëŠ¥ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì´ ì¤‘ìš”í•˜ê±°ë‚˜, ì›Œí¬ë¡œë“œê°€ ì¼ì •í•˜ë‹¤ë©´ ê³ ì •ê°’ë„ ìœ íš¨í•˜ë‹¤.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line"><span class="token parameter variable">-Xms</span><span class="token operator">=</span>2048m <span class="token parameter variable">-Xmx</span><span class="token operator">=</span>2048m
</span><span class="code-line"><span class="token comment"># ê³ ì • í™ì„ ì“¸ ë•ŒëŠ” ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ëŒ€ë¹„ Headroom(â‰¥25%)ì„ ë°˜ë“œì‹œ í™•ë³´</span>
</span></code></pre>
<div class="my-4 px-4 py-3 rounded-md prose bg-cyan-50 dark:bg-cyan-900/30 border-l-4 border-cyan-400 text-cyan-900 dark:text-cyan-100"><div class="flex gap-2 text-cyan-700 dark:text-cyan-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-cyan-700 dark:text-cyan-300"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"></path><path d="M5 3v4"></path><path d="M19 17v4"></path><path d="M3 5h4"></path><path d="M17 19h4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">MetaspaceëŠ” ëŒ€ê°œ ìˆ˜ë°± MB ì„ ì—ì„œ ì¶©ë¶„í•˜ë‹¤. í•„ìš” ì‹œ <code>-XX:MaxMetaspaceSize=256m</code>ì²˜ëŸ¼ ìƒí•œì„ ì§€ì •í•´ ë©”ëª¨ë¦¬ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.</div></div></div>
<hr/>
<h3 id="cpu-ì „ëµ-requestlimit-ìŠ¤ë ˆë“œ-ìˆ˜"><a aria-hidden="true" tabindex="-1" href="#cpu-ì „ëµ-requestlimit-ìŠ¤ë ˆë“œ-ìˆ˜"><span class="icon icon-link"></span></a>CPU ì „ëµ (Request/Limit, ìŠ¤ë ˆë“œ ìˆ˜)</h3>
<h4 id="1-qos-ì™€-request--limit-ì œí•œ"><a aria-hidden="true" tabindex="-1" href="#1-qos-ì™€-request--limit-ì œí•œ"><span class="icon icon-link"></span></a>1) QoS ì™€ Request / Limit ì œí•œ</h4>
<ul>
<li><span class="text-blue-600 font-bold">QoS Guaranteed</span>ë¥¼ ìœ„í•´ <span class="text-blue-600 font-bold">request = limit</span>ì„ ë™ì¼í•˜ê²Œ ë‘ëŠ” êµ¬ì„±ì´ ê°€ì¥ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë‹¤.</li>
<li>ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ requestëŠ” <span class="text-blue-600 font-bold">í‰ê·  + 10%</span>, limitì€ <span class="text-blue-600 font-bold">í”¼í¬ ìƒí•œ</span>ì— ê°€ê¹ê²Œ ì„¤ì •í•˜ë˜ <strong>ì°¨ì´ë¥¼ ê³¼ë„í•˜ê²Œ ë²Œë¦¬ì§€ ì•Šê¸°</strong>.</li>
</ul>
<h4 id="2-cpu-ê°œìˆ˜-ëª…ì‹œ"><a aria-hidden="true" tabindex="-1" href="#2-cpu-ê°œìˆ˜-ëª…ì‹œ"><span class="icon icon-link"></span></a>2) CPU ê°œìˆ˜ ëª…ì‹œ</h4>
<ul>
<li>ì»¨í…Œì´ë„ˆì˜ ì œí•œ ì½”ì–´ ìˆ˜ì™€ JVM ìŠ¤ë ˆë”©ì´ ì–´ê¸‹ë‚˜ë©´ ì›í•˜ëŠ” ì„±ëŠ¥ì´ ì•ˆ ë‚˜ì˜¬ ìˆ˜ ìˆë‹¤.</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line"><span class="token parameter variable">-XX:ActiveProcessorCount</span><span class="token operator">=</span><span class="token operator">&lt;</span>ì»¨í…Œì´ë„ˆ limit ì½”ì–´ ìˆ˜ ë˜ëŠ” ê·¸ì— ì¤€í•˜ëŠ” ê°’<span class="token operator">&gt;</span>
</span></code></pre>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">CPU limitì— ëŒ€í•´ì„œëŠ” â€œì„¤ì •í•˜ì§€ ë§ìâ€ vs â€œì„¤ì •í•˜ìâ€ ë…¼ìŸì´ ìˆìœ¼ë‚˜,</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-purple-700 dark:text-purple-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line"><b>ì—”í„°í”„ë¼ì´ì¦ˆ í™˜ê²½ì—ì„œëŠ” ì˜ˆì¸¡ ê°€ëŠ¥ì„±</b>ì„ ìœ„í•´ ì ì ˆí•œ limit ì‚¬ìš©ì´ ì‹¤ë¬´ì ìœ¼ë¡œ ë” ì•ˆì „í•œ ê²½ìš°ê°€ ë§ë‹¤.</div></div></div>
<hr/>
<div class="my-4 px-4 py-3 rounded-md prose bg-green-50 dark:bg-green-900/30 border-l-4 border-green-400 text-green-900 dark:text-green-100"><div class="flex gap-2 text-green-700 dark:text-green-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-green-700 dark:text-green-300"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><b>Think..</b></div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-green-700 dark:text-green-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">âœ” request / limit memory, cpu ì„¤ì •í•˜ì.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">âœ” -xss(ThreadStackSize) ëŠ” default ê°’ì´ 1M ì´ë¯€ë¡œ êµ³ì´ ì„¤ì •í•˜ì§€ ë§ì.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">âœ” QoS Guaranteed ì¸ Pod ë¥¼ ìƒì„±í•˜ì.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">âœ” livenessProbe, readinessProbe ë¥¼ ì„¤ì •í•˜ì.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">âœ” ActiveProcessorCount í”Œë˜ê·¸ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">âœ” Xms = Xmx ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë™ì¼í•œ ê°’ìœ¼ë¡œ ë§ì¶”ëŠ” ê²ƒì´ë‹¤.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">â†’ ìµœëŒ€ í™ í¬ê¸°ë¥¼ ê³ ì •í•œë‹¤ë©´, Request / Limit memory ì˜ 60 ~ 80% ìœ¼ë¡œ ë§ì¶”ì.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">âœ” (update) í™˜ê²½ì— ë”°ë¼ì„œ ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ, QoS ë¥¼ ì ìš©í•˜ê³  í¼ì„¼í…Œì´ì§€ë¡œ ì¡°ì •í•˜ëŠ” ê²ƒì´ ë³´ë‹¤ ë” ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜ì´ ë˜ëŠ” ê²ƒ ê°™ë‹¤..!</div></div></div>
<hr/>
<h2 id="-reference"><a aria-hidden="true" tabindex="-1" href="#-reference"><span class="icon icon-link"></span></a>ğŸ“š Reference</h2>
<ul>
<li><a href="https://bell-sw.com/announcements/2020/10/28/JVM-in-Linux-containers-surviving-the-isolation/">JVM-in-Linux-containers-surviving-the-isolation</a></li>
<li><a href="https://gist.github.com/petrbouda/92d794370134fc9dda1fdc05473c7165">ì»¨í…Œì´ë„ˆì™€ JVMì˜ ë©”ëª¨ë¦¬ Limit ë° Request</a></li>
<li><a href="https://akobor.me/posts/heap-size-and-resource-limits-in-kubernetes-for-jvm-applications">JVM ì–´í”Œë¦¬ì¼€ì´ì…˜ ìš© Kubernetes ì˜ í™í¬ê¸°, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë° ë¦¬ì†ŒìŠ¤ ì œí•œ</a></li>
<li><a href="https://findstar.pe.kr/2022/07/10/java-application-memory-size-on-container/">ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œì˜ Java ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¦¬ì†ŒìŠ¤ì™€ ë©”ëª¨ë¦¬ ì„¤ì •</a></li>
<li><a href="https://effectivesquid.tistory.com/entry/Kubernetes-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C%EC%9D%98-%EC%BB%B4%ED%93%A8%ED%8C%85-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%95%EB%B3%B4-%EB%B0%8F-%EC%A0%9C%ED%95%9C">Kubernetes ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œì˜ ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ ì •ë³´ ë° ì œí•œ</a></li>
<li><a href="https://medium.com/@anurag2397/solving-javas-core-problems-around-memory-and-cpu-4d0c97748c43">K8s í™˜ê²½ì—ì„œ ë” ë‚˜ì€ CPU ë° ë©”ëª¨ë¦¬ í™œìš©ì„ ìœ„í•´ JVM ì»¨í…Œì´ë„ˆë¥¼ ì¡°ì •í•©ë‹ˆë‹¤.</a></li>
<li><a href="https://focusedlabs.io/blog/the-no-nonsense-guide-to-jvm-14-memory-on-kubernetes-508m">Kubernetes ì˜ JVM 14 ë©”ëª¨ë¦¬ì— ëŒ€í•œ ì‹¤ìš©ì ì¸ ê°€ì´ë“œ</a></li>
<li><a href="https://online.cocktailcloud.io/2019/04/30/kubernetes-resource-request%EC%99%80-limit%EC%9D%98-%EC%9D%B4%ED%95%B4/">Kubernetes Resource Requestì™€ Limitì˜ ì´í•´</a></li>
<li><a href="https://coffeewhale.com/kubernetes/mistake/2020/11/29/mistake-10/">ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì‰½ê²Œ ì €ì§€ë¥´ëŠ” 10ê°€ì§€ ì‹¤ìˆ˜</a></li>
</ul></article><div class="mt-20 p-6 border rounded-2xl bg-gray-50 dark:bg-gray-800 shadow-sm"><h2 class="text-xl font-bold flex items-center gap-2 mb-6">ğŸ·ï¸ <span>ê°™ì€ íƒœê·¸ì˜ ê¸€ ë³´ê¸°</span></h2><ul class="space-y-4"><li class="flex flex-col"><a class="text-base font-medium text-gray-800 hover:text-blue-600 no-underline dark:text-gray-100 dark:hover:text-blue-400 transition" href="/post/play-with-playwright/">E2E(End to End) í…ŒìŠ¤íŠ¸ í”„ë ˆì„ ì›Œí¬ì¸, Playwright ë¡œ ë†€ì•„ë³´ì! (feat. playwright mcp + claude desktop)</a><span class="text-sm text-gray-500 dark:text-gray-400">#Testing #Java</span></li><li class="flex flex-col"><a class="text-base font-medium text-gray-800 hover:text-blue-600 no-underline dark:text-gray-100 dark:hover:text-blue-400 transition" href="/post/refactoring-category-summary/">ë¦¬íŒ©í† ë§ ê¸°ìˆ ì— ëŒ€í•´ì„œ ì¹´í…Œê³ ë¦¬ë³„ ì •ë¦¬ - ìš”ì•½í¸</a><span class="text-sm text-gray-500 dark:text-gray-400">#Clean Code #Java</span></li><li class="flex flex-col"><a class="text-base font-medium text-gray-800 hover:text-blue-600 no-underline dark:text-gray-100 dark:hover:text-blue-400 transition" href="/post/try-with-resources/">try-with-resources ë¥¼ ì´ìš©í•œ ìì›í•´ì œ</a><span class="text-sm text-gray-500 dark:text-gray-400">#Java</span></li></ul><div class="mt-6 text-center"><button class="px-5 py-2 text-sm font-medium rounded-md bg-gray-200 hover:bg-gray-300 text-gray-800 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white transition">ë” ë³´ê¸°</button></div></div><div class="mt-10 flex justify-center min-h-[100px]"><div style="width:100%;max-width:728px;min-height:100px"><ins class="adsbygoogle" style="display:block;width:100%;min-height:100px" data-ad-client="ca-pub-5103032140213770" data-ad-slot="3384415421" data-ad-format="autorelaxed"></ins></div></div></main><aside class="hidden lg:block sticky top-[96px] w-60 h-[calc(100vh-96px)] pl-4 z-40 pb-[120px]"><div class="relative h-full"><div class="overflow-y-auto h-full pr-2 scrollbar-hide"><h2 class="text-sm font-semibold mb-2">ğŸ§¾ ëª©ì°¨</h2><ul class="space-y-1 text-xs sm:text-sm text-gray-700 pb-12"></ul></div></div></aside></div><a class="fixed bottom-6 right-6 z-50 bg-white border border-gray-300 rounded-lg shadow-md p-3 hover:shadow-lg transition" aria-label="ëª©ë¡ìœ¼ë¡œ ê°€ê¸°" href="/post/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-gray-800"><line x1="8" x2="21" y1="6" y2="6"></line><line x1="8" x2="21" y1="12" y2="12"></line><line x1="8" x2="21" y1="18" y2="18"></line><line x1="3" x2="3.01" y1="6" y2="6"></line><line x1="3" x2="3.01" y1="12" y2="12"></line><line x1="3" x2="3.01" y1="18" y2="18"></line></svg></a></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"java-application-on-kubernetes","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    info: \"info\",\n    p: \"p\",\n    hr: \"hr\",\n    h2: \"h2\",\n    a: \"a\",\n    span: \"span\",\n    quote: \"quote\",\n    h3: \"h3\",\n    ul: \"ul\",\n    li: \"li\",\n    code: \"code\",\n    note: \"note\",\n    pre: \"pre\",\n    neutral: \"neutral\",\n    div: \"div\",\n    ol: \"ol\",\n    h4: \"h4\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    tip: \"tip\",\n    strong: \"strong\",\n    success: \"success\"\n  }, _provideComponents(), props.components), {RedText, BlueText} = _components;\n  if (!BlueText) _missingMdxReference(\"BlueText\", true);\n  if (!RedText) _missingMdxReference(\"RedText\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.info, {\n      children: _jsxs(_components.p, {\n        children: [\"kubernetes í™˜ê²½ì—ì„œ Java ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¦¬ì†ŒìŠ¤(CPU, Memory)ëŠ” \", _jsx(\"b\", {\n          children: \"ì‹¤ì œ ì§€í‘œ ê¸°ë°˜\"\n        }), \" ìœ¼ë¡œ ì¡°ì •í•˜ëŠ” ê²ƒì´ ê°€ì¥ ë°”ëŒì§í•˜ë‹¤.\\ní•˜ì§€ë§Œ, ì‹ ê·œ ì„œë¹„ìŠ¤ë‚˜ ì•„ì§ ì§€í‘œê°€ ì¶©ë¶„í•˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ìœ„í•´, ê° best practice ë¥¼ ì°¾ì•„ë³´ì•˜ê³ , ì•ˆì •ì ì¸ ì´ˆê¸° ì„¤ì • ê°€ì´ë“œë¥¼ ì •ë¦¬í•´ë³´ì•˜ë‹¤.\"]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"best-practices-java-memory-arguments-for-containers\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#best-practices-java-memory-arguments-for-containers\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Best Practices: Java Memory Arguments for Containers\"]\n    }), \"\\n\", _jsx(_components.quote, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://dzone.com/articles/best-practices-java-memory-arguments-for-container\",\n          children: \"Best Practices : Java Memory Arguments for Containers\"\n        }), \" ì— ëŒ€í•œ ë‚´ìš©\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"ëª¨ë²”-ì‚¬ë¡€-1\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#ëª¨ë²”-ì‚¬ë¡€-1\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ëª¨ë²” ì‚¬ë¡€ 1\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"í™ í¬ê¸° êµ¬ì„±ì— ì‚¬ìš©í•˜ëŠ” ì˜µì…˜ (\", _jsx(_components.code, {\n          children: \"-XX: MaxRAMFraction\"\n        }), \", \", _jsx(_components.code, {\n          children: \"-XX: MaxRAMPercentage\"\n        }), \", \", _jsx(_components.code, {\n          children: \"-Xmx\"\n        }), \") ì— ê´€ê³„ ì—†ì´ í•­ìƒ ì»¨í…Œì´ë„ˆì— \", _jsx(RedText, {\n          children: \"ìµœì†Œ 25%\"\n        }), \" ë” ë§ì€ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•œë‹¤.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Java Thread, Garbage Collection, Metaspace, Native Memory, Socket buffers ë¥¼ ìœ„í•œ ê³µê°„ì´ í•„ìš”í•˜ë‹¤.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"ex) MaxRAMPercentage: 75\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"ëª¨ë²”-ì‚¬ë¡€-2\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#ëª¨ë²”-ì‚¬ë¡€-2\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ëª¨ë²” ì‚¬ë¡€ 2\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"ì´ˆê¸° í™ í¬ê¸°(\", _jsx(_components.code, {\n          children: \"-XX:InitialRAMFraction\"\n        }), \", \", _jsx(_components.code, {\n          children: \"-XX:InitialRAMPercentage\"\n        }), \", \", _jsx(_components.code, {\n          children: \"-Xms\"\n        }), \") ë¥¼ ìµœëŒ€ í™ í¬ê¸°(\", _jsx(_components.code, {\n          children: \"-XX: MaxRAMFraction\"\n        }), \", \", _jsx(_components.code, {\n          children: \"-XX: MaxRAMPercentage\"\n        }), \", \", _jsx(_components.code, {\n          children: \"-Xmx\"\n        }), \") ì™€ ë™ì¼í•œ í¬ê¸°ë¡œ ì„¤ì •í•œë‹¤.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(\"b\", {\n          children: \"ì´ˆê¸° í™ í¬ê¸° = ìµœëŒ€ í™ í¬ê¸° ì„¤ì •ì‹œ ì¥ì \"\n        }), \"\\n\", _jsx(_components.a, {\n          href: \"https://blog.ycrash.io/benefits-of-setting-initial-and-maximum-memory-size-to-the-same-value/\",\n          children: \"Benefits of setting initial and maximum memory size to the same value\"\n        }), \"\\nâœ” í™ í¬ê¸°ê°€ ì´ˆê¸° í• ë‹¹ í¬ê¸°ë³´ë‹¤ ì»¤ì§ˆ ë•Œë§ˆë‹¤ JVM ì´ ì¼ì‹œ ì¤‘ì§€ ë˜ì–´ì„œ, \", _jsx(_components.code, {\n          children: \"ì´ˆê¸° í™ í¬ê¸° = ìµœëŒ€ í™ í¬ê¸°\"\n        }), \" ë¡œ ì„¤ì •í•˜ë©´ Garbage Collection pause time ì´ ë‚®ì•„ì§„ë‹¤.\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"ëª¨ë²”-ì‚¬ë¡€-3\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#ëª¨ë²”-ì‚¬ë¡€-3\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ëª¨ë²” ì‚¬ë¡€ 3\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"XX: MaxRAMFraction\"\n        }), \", \", _jsx(_components.code, {\n          children: \"XX:MaxRAMPercentage\"\n        }), \" ë³´ë‹¤ëŠ” \", _jsx(_components.code, {\n          children: \"Xmx\"\n        }), \" ì˜µì…˜ì„ ì‚¬ìš©í•´ì„œ ì„¸ë°€í•˜ê³  ì •ë°€í•œ ê°’ì„ ì„¤ì •í•´ë¼.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Container ì˜ ë©”ëª¨ë¦¬ ì„¤ì •ì— ë”°ë¼ ì¡°ì •ë˜ëŠ” ê²ƒë³´ë‹¤ëŠ” ì„¸ë°€í•˜ê³  ì •ë°€í•œ ê°’ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"best-practices-for-java-apps-on-kubernetes\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#best-practices-for-java-apps-on-kubernetes\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Best Practices for Java Apps on Kubernetes\"]\n    }), \"\\n\", _jsx(_components.quote, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://piotrminkowski.com/2023/02/13/best-practices-for-java-apps-on-kubernetes/\",\n          children: \"Best Practices for Java Apps on Kubernetes\"\n        }), \" ì¼ë¶€ ë‚´ìš©\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"1-dont-set-limits-too-low\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#1-dont-set-limits-too-low\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"1. Don't Set Limits Too Low\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"CPU, Memory ì˜ Limit ì„ ë„ˆë¬´ ë‚®ê²Œ ì„¤ì •í•˜ì§€ ë§ˆë¼.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Java ëŠ” ì¼ë°˜ì ì¸ ì‘ì—…ì—ì„œ ë§ì€ CPU ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šë”ë¼ë„, ë¹ ë¥´ê²Œ ì‹œì‘í•˜ë ¤ë©´ ë§ì€ CPU ê°€ í•„ìš”í•˜ë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsxs(_components.p, {\n        children: [\"CPU ì œí•œ ì„¤ì •ì„ ê¶Œí•œí•˜ì§€ ì•ŠëŠ” ê¸€ : \", _jsx(_components.a, {\n          href: \"https://home.robusta.dev/blog/stop-using-cpu-limits\",\n          children: \"https://home.robusta.dev/blog/stop-using-cpu-limits\"\n        }), \"\\ní•´ë‹¹ ê¸€ì— ëŒ€í•œ ë°˜ë°• ê¸€ : \", _jsx(_components.a, {\n          href: \"https://dnastacio.medium.com/why-you-should-keep-using-cpu-limits-on-kubernetes-60c4e50dfc61\",\n          children: \"https://dnastacio.medium.com/why-you-should-keep-using-cpu-limits-on-kubernetes-60c4e50dfc61\"\n        }), \"\\nâœ” ê²°ë¡ ì ìœ¼ë¡œëŠ” CPU, Memory Limit ì„ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤ëŠ” ë‚´ìš©\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"2-consider-memory-usage-first\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#2-consider-memory-usage-first\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"2. Consider Memory Usage First\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"kubernetes ì—ì„œ ì•±ì„ ì‹¤í–‰í•˜ê¸° ì „ì— ìµœì†Œí•œ ì˜ˆìƒ ë¡œë“œì—ì„œ ì•±ì´ ì†Œë¹„í•˜ëŠ” ë©”ëª¨ë¦¬ ëŸ‰ì„ ì¸¡ì • í•´ì•¼í•œë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsxs(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"Heap \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" Total Container Memory - Non heap - Headroom\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"Non Heap \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" Direct Memory + Metaspace + Reserved Code Cache + \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"Thread Stack * Thread Count\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"3-proper-liveness-and-readiness-probes\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#3-proper-liveness-and-readiness-probes\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"3. Proper Liveness and Readiness Probes\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"LivenessProbe\"\n        }), \" ì™€ \", _jsx(_components.code, {\n          children: \"ReadinessProbe\"\n        }), \" ë¥¼ ì„¤ì •í•´ë¼.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"LivenessProbe\"\n        }), \" ëŠ” ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ì‹œì‘í• ì§€ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ”ë° ì‚¬ìš©ë˜ê³ , ì–´ë–¤ ì´ìœ ë¡œë“  Application ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ì‹œ ì‹œì‘í•˜ëŠ” ê²ƒì´ í•©ë¦¬ì ì¼ ìˆ˜ ìˆë‹¤.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"ReadinessProbe\"\n        }), \" ëŠ” ì»¨í…Œì´ë„ˆê°€ ë“¤ì–´ì˜¤ëŠ” íŠ¸ë˜í”½ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ ê²°ì •í•˜ëŠ”ë° ì‚¬ìš©ë˜ê³ , Pod ê°€ ì¤€ë¹„ë˜ì§€ ì•Šì€ ê²ƒìœ¼ë¡œ ì¸ì‹ë˜ë©´ endpoint ì—ì„œ ì œê±°ëœë‹¤.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [_jsx(_components.code, {\n              children: \"ReadinessProbe\"\n            }), \" ê°€ ì‹¤íŒ¨í•˜ë”ë¼ë„ Pod ëŠ” ë‹¤ì‹œ ì‹œì‘ë˜ì§€ ì•ŠëŠ”ë‹¤.\"]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"kubernetes-and-the-jvm\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#kubernetes-and-the-jvm\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Kubernetes and the JVM\"]\n    }), \"\\n\", _jsx(_components.quote, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://xebia.com/blog/kubernetes-and-the-jvm/\",\n          children: \"Kubernetes and the JVM\"\n        }), \" ì˜ ì¼ë¶€ ë‚´ìš©\"]\n      })\n    }), \"\\n\", _jsx(_components.neutral, {\n      children: _jsx(_components.p, {\n        children: \"If the JVM runs out of memory, it may result in the application crashing or other unexpected behavior.\\nTo avoid this, it's essential to set appropriate requests and limits for memory\"\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"request-limits-and-the-jvm\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#request-limits-and-the-jvm\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Request, Limits and the JVM\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"request / limit memory ë³´ë‹¤ ì‘ì€ \", _jsx(_components.code, {\n          children: \"-Xmx\"\n        }), \" ë¥¼ ì„¤ì •í•œë‹¤.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"request / limit memory ëŠ” ë™ì¼í•˜ê²Œ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"QoS Guaranteed ë¥¼ ì ìš©í•´ë¼.\"\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"helpers-for-configuring-the-heap-size\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#helpers-for-configuring-the-heap-size\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"\\\"Helpers\\\" for configuring the Heap Size\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"heap í¬ê¸°ë¥¼ ê³ ì •í•˜ì§€ ë§ê³ , \", _jsx(_components.code, {\n          children: \"-XX: InitialRAMPercentage\"\n        }), \" / \", _jsx(_components.code, {\n          children: \"-XX: MaxRAMPercentage\"\n        }), \" ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ì˜ ë°±ë¶„ìœ¨ë¡œ ì„¤ì •í•œë‹¤.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"kubernetes ì™€ ê°™ì´ Pod í™•ì¥, ë…¸ë“œ í™•ì¥ ë“± ê¸°íƒ€ ìš”ì¸ìœ¼ë¡œ ì¸í•´ ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ê°€ ë³€ë™ ë  ìˆ˜ ìˆëŠ” ë™ì  í™˜ê²½ì—ì„œëŠ” ì¤‘ìš”í•œ ì—­í• ì´ ë  ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"request ì™€ limit ì„ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ kubernetes ì—ì„œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ì•ˆì •ì ì´ê³ , ê¶Œì¥ë˜ëŠ” ì ‘ê·¼ ë°©ë²•ì´ë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsx(_components.p, {\n        children: \"request / limits + -XX: InitialRAMPercentage / -XX: MaxRAMPercentage\"\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"so-how-could-we-find-these-kubernetes-memory-settings-request--limit-\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#so-how-could-we-find-these-kubernetes-memory-settings-request--limit-\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"So, how could we find these kubernetes memory settings (request / limit) ?\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Non heap memory ë„ ê³ ë ¤í•´ë¼.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"RAM ê¸°ë°˜ íŒŒì¼ ì‹œìŠ¤í…œë„ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"-Xmx í™ì´ ì•„ë‹Œ ë©”ëª¨ë¦¬ê°€ ì†Œì§„ë˜ì–´ OutOfMemoryError ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Metaspace Memory ëŠ” -XX\", _jsx(_components.div, {}), \" ë¡œ êµ¬ì„±ê°€ëŠ¥í•˜ê³ , ê²½í—˜ì ì¸ ê·œì¹™ì€ ë©”ëª¨ë¦¬ë³´ë‹¤ 16ë°° ë‚®ì€ ê°’ìœ¼ë¡œ ì œí•œ í•˜ëŠ” ê²ƒì´ë‹¤.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"JVM ì— ì‚¬ìš© ê°€ëŠ¥í•œ ë©”ëª¨ë¦¬ê°€ 4GB ì¼ ë•Œ \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" XX:MaxMetaspaceSize\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \"256M\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"garbage-collection\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#garbage-collection\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Garbage Collection\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ê°€ë¹„ì§€ ìˆ˜ì§‘ì˜ ë¹ˆë„ì™€ ì‹œê°„ì€ JVM Application ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì— í° ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsxs(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-XX:+UseG1GC\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-XX:MaxGCPauseMillis\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"some-best-practices-when-running-jvm-on-the-kubernetes-cluster\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#some-best-practices-when-running-jvm-on-the-kubernetes-cluster\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Some best practices when running JVM on the Kubernetes cluster\"]\n    }), \"\\n\", _jsx(_components.quote, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://softwaremill.com/jvm-and-kubernetes-walk-into-a-bar/\",\n          children: \"Some best practices when running JVM on the Kubernetes cluster\"\n        }), \" ì— ëŒ€í•œ ìš”ì•½\"]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"request / limit ì„¤ì •ì„ í•´ë¼.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"request / limit ê°’ì„ ë™ì¼í•œ ê°’ìœ¼ë¡œ ì„¤ì •í•´ë¼.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"XX: ActiveProcessorCount í”Œë˜ê·¸ë¥¼ ì„¤ì •í•˜ì—¬ ì‚¬ìš© ê°€ëŠ¥í•œ ì½”ì–´ ìˆ˜ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•´ë¼.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"XX: MaxRAMPercentage ìµœëŒ€ í™ í¬ê¸° ê°’ì„ 60% ì •ë„ë¡œ ë§ì¶”ì–´ë¼.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"UseContainerSupport ë¥¼ ë¹„í™œì„±í™”í•´ë¼.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsx(_components.p, {\n        children: \"UseContainerSupport ë¥¼ ë¹„í™œì„±í™”í•˜ë©´ JVM ì´ Container ê°€ ì‹¤í–‰ì¤‘ì¸ host ì¦‰, worker node ì˜ ë¦¬ì†ŒìŠ¤ ì •ë³´ë¥¼ ë°”ë¼ë³¸ë‹¤.\"\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"alibaba-cloud---best-practices-for-jvm-heap-size-configuration\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#alibaba-cloud---best-practices-for-jvm-heap-size-configuration\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"alibaba cloud - Best practices for jvm heap size configuration\"]\n    }), \"\\n\", _jsx(_components.quote, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://www.alibabacloud.com/help/en/sae/use-cases/best-practices-for-jvm-heap-size-configuration\",\n          children: \"alibaba cloud - Best practices for jvm heap size configuration\"\n        }), \" ì— ëŒ€í•œ ë‚´ìš©\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"use-the--xms-and--xms-options-to-control-heap-size\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#use-the--xms-and--xms-options-to-control-heap-size\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Use the -Xms and -Xms options to control heap size\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"ê¶Œì¥ë˜ëŠ”-jvm-heap-size\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#ê¶Œì¥ë˜ëŠ”-jvm-heap-size\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ê¶Œì¥ë˜ëŠ” JVM heap size\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Memory\"\n          }), _jsx(_components.th, {\n            children: \"Heap Size\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"1 GB\"\n          }), _jsx(_components.td, {\n            children: \"600 MB\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"2 GB\"\n          }), _jsx(_components.td, {\n            children: \"1,434 MB\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"4 GB\"\n          }), _jsx(_components.td, {\n            children: \"2,867 MB\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"8 GB\"\n          }), _jsx(_components.td, {\n            children: \"5,734 MB\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"ex\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" 4GB ì¼ ë•Œ, \", _jsx(_components.span, {\n            className: \"token assign-left variable\",\n            children: \"MaxRAMPercentage\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"70.0\"\n          }), \" ìœ¼ë¡œ ì„¤ì •í•˜ë©´ JVM ì€ ìµœëŒ€ \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"2\"\n          }), \".8GB í™ ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"cloudbees---java-heap-settings-best-practice\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#cloudbees---java-heap-settings-best-practice\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"CloudBees - Java Heap settings Best Practice\"]\n    }), \"\\n\", _jsx(_components.quote, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://docs.cloudbees.com/docs/cloudbees-ci-kb/latest/best-practices/jvm-memory-settings-best-practice\",\n          children: \"CloudBees - Java Heap settings Best Practice\"\n        }), \" ì— ëŒ€í•œ ë‚´ìš©\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"encure-container-memory-limits--requests-are-equal-and-use--xx---xx\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#encure-container-memory-limits--requests-are-equal-and-use--xx---xx\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Encure container memory limits / requests are equal and use -XX\", _jsx(_components.div, {}), \" / -XX\", _jsx(_components.div, {})]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"-Xmx, -Xms ëŒ€ì‹  -XX\", _jsx(_components.div, {}), \" / -XX: MaxRAMPercentage ì„ ì‚¬ìš©í•´ë¼.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"VM í™ / ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ë¹„ìœ¨ì€ 0.5 ì€ ë¶ˆì•ˆì •í•œ ê²ƒìœ¼ë¡œ ì•Œë ¤ì¡Œë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"azure---kubernetes-ìš©-java-ì• í”Œë¦¬ì¼€ì´ì…˜-ì»¨í…Œì´ë„ˆí™”--ìë°”-ë©”ëª¨ë¦¬-ê´€ë¦¬\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#azure---kubernetes-ìš©-java-ì• í”Œë¦¬ì¼€ì´ì…˜-ì»¨í…Œì´ë„ˆí™”--ìë°”-ë©”ëª¨ë¦¬-ê´€ë¦¬\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Azure - Kubernetes ìš© Java ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆí™” / ìë°” ë©”ëª¨ë¦¬ ê´€ë¦¬\"]\n    }), \"\\n\", _jsx(_components.quote, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://learn.microsoft.com/ko-kr/azure/developer/java/containers/overview\",\n          children: \"Azure - Kubernetes ìš© Java ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆí™”\"\n        }), \"\\n\", _jsx(_components.a, {\n          href: \"https://learn.microsoft.com/en-us/azure/spring-apps/concepts-for-java-memory-management\",\n          children: \"Azure - Kubernetes ìš© Java ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”ëª¨ë¦¬\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"CPU / Memory request / limit ì„ ë™ì¼í•œ ê°’ì„ ì„¤ì •í•œë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"JVM ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œì„¸ì„œ ì´í•´\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Kubernetes CPU í• ë‹¹ëŸ‰ì€ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” CPU ìˆ˜ê°€ ì•„ë‹ˆë¼ í”„ë¡œì„¸ìŠ¤ì—ì„œ CPU ì— ì†Œìš”ë˜ëŠ” ì‹œê°„ê³¼ ê´€ë ¨ ìˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"JVM ê³¼ ê°™ì€ ë‹¤ì¤‘ ìŠ¤ë ˆë“œ ëŸ°íƒ€ì„ì€ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ìˆëŠ” ì—¬ëŸ¬ í”„ë¡œì„¸ì„œë¥¼ ë™ì‹œì— ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ì»¨í…Œì´ë„ˆ í•˜ë‚˜ì˜ CPU ì œí•œì´ ìˆë”ë¼ë„ JVM ì— ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œì„¸ìŠ¤ë¥¼ ì§€ì •í•  ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-XX:ActiveProcessorCount\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \"N\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"3\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Default maximum heap size\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Azure Spring App ì€ ê¸°ë³¸ì ìœ¼ë¡œ heap memory size ê°€ 50~80% ìœ¼ë¡œ ì„¤ì •ëœë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsxs(_components.code, {\n        className: \"code-highlight\",\n        children: [_jsx(_components.span, {\n          className: \"code-line\",\n          children: \"1GB ë³´ë‹¤ ì‘ìœ¼ë©´ 50%\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"1GB \u003c app memory \u003c 2GB = 60%\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"2GB \u003c app memory \u003c 3GB = 70%\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"3GB \u003c app memory = 80%\\n\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"pretius---jvm-kubernetes-optimizing-kubernetes-for-java-developers\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#pretius---jvm-kubernetes-optimizing-kubernetes-for-java-developers\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Pretius - JVM Kubernetes: Optimizing Kubernetes for Java Developers\"]\n    }), \"\\n\", _jsx(_components.quote, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(_components.a, {\n          href: \"https://pretius.com/blog/jvm-kubernetes/\",\n          children: \"Pretius - JVM Kubernetes: Optimizing Kubernetes for Java Developers\"\n        }), \" ì— ëŒ€í•œ ë‚´ìš©\"]\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"jvm-kubernetes---memory-limit-and-usage\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#jvm-kubernetes---memory-limit-and-usage\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"JVM Kubernetes - memory limit and usage\"]\n    }), \"\\n\", _jsx(_components.neutral, {\n      children: _jsx(_components.p, {\n        children: \"\\\"The default limits are very small, so you should always set the memory limits in your java application when running it in a container\\\"\\nê¸°ë³¸ ì„¤ì •ì€ ë‚®ìœ¼ë‹ˆ í•­ìƒ memory limit ì„ ì„¤ì •í•´ë¼.\"\n      })\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"ë©”ëª¨ë¦¬-í• ë‹¹ëŸ‰-ê³„ì‚°-calculating-memory-usage\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#ë©”ëª¨ë¦¬-í• ë‹¹ëŸ‰-ê³„ì‚°-calculating-memory-usage\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ë©”ëª¨ë¦¬ í• ë‹¹ëŸ‰ ê³„ì‚° (Calculating memory usage)\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"SYSTEM AND CLASS DATA\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì‹œìŠ¤í…œ ë° í´ë˜ìŠ¤ ë°ì´í„°ëŠ” ìˆ˜ì‹­ MBë§Œ ì‚¬ìš©í•  ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë‹ˆ 50MB ë¡œ ì„¤ì •í•˜ëŠ” ê²Œ ì¢‹ë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"THREADS\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì‚¬ìš©ì¤‘ì¸ Thread ìˆ˜ì— ìì²´ ì•ˆì „ ê³„ìˆ˜ë¥¼ ê³±í•˜ì—¬ í•„ìš”í•œ ë©”ëª¨ë¦¬ë¥¼ ì¶”ì •í•´ë¼.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"3\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"MAXIMUM HEAP SIZE\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì»¨í…Œì´ë„ˆì˜ ì•½ 75~80% ë¡œ ì´ˆê¸° í™ ì‚¬ì´ì¦ˆë¥¼ ì§€ì •í•´ë¼.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"4\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"JVM Kubernetes - CPU usage\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.neutral, {\n      children: _jsx(_components.p, {\n        children: \"\\\"if your container CPU limits is too low, your application will be extremely slow under heavy stress. Your SLA commitment on request handling time will likely be breached.\\\"\\nCPU limit ì´ ë„ˆë¬´ ë‚®ìœ¼ë©´, ì–´í”Œë¦¬ì¼€ì´ì…˜ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤.\"\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"5\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Other impacts of Kubernetes CPU limits\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"-XX: ActiveProcessorCount í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ Java CPU ìˆ˜ë¥¼ limit ~ 2ë°°ë¡œ ì„¤ì •í•œë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"6\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Java ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì¤‘ìš”í•œ pool ì— ëŒ€í•´ ìŠ¤ë ˆë“œ ìˆ˜ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì„¤ì •í•œë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Garbage collection\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì¼ë°˜ì ì¸ 1GB memory, 2 CPU java ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ëŠ” ë³‘ë ¬ GC ë¥¼ ì‚¬ìš©í•´ë¼.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"í™ì´ ì•½ 2~4GB ì¸ ê²½ìš° G1(JDK \u003c 17) /Z GC(JDK +17) ë¡œ ì „í™˜í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"summary\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#summary\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Summary\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.p, {\n      children: \"ìœ„ì˜ ë‚´ìš©ì„ ì•„ë˜ì™€ ê°™ì´ ì •ë¦¬ í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì´ˆê¸° í™ ì‚¬ì´ì¦ˆì™€ ìµœëŒ€ í™ ì‚¬ì´ì¦ˆë¥¼ ë™ì¼í•˜ê²Œ ë§ì¶˜ë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"ex\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-Xms\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-Xmx\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"2\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Guaranteed QoS ì„¤ì •ì„ í•´ë¼.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"request / limit ë™ì¼í•˜ê²Œ ë§ì¶”ì§€ ì•ŠëŠ”ë‹¤ë©´, ë„ˆë¬´ ì°¨ì´ê°€ ë‚˜ì§€ ì•ŠëŠ” ê°’ìœ¼ë¡œ ì„¤ì •í•œë‹¤.\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"request ëŠ” \", _jsx(BlueText, {\n          children: \"í‰ê·  ì‚¬ìš©ëŸ‰ + 10%, limit ì€ peek ì‚¬ìš©ëŸ‰ ì¤‘ ìµœëŒ€ ì‚¬ìš©ëŸ‰ \"\n        }), \" ìœ¼ë¡œ ì„¤ì •í•œë‹¤.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"3\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"-Xms, -Xmx ë³´ë‹¤ëŠ” MaxRAMPercentage ë¥¼ ì¤€ë‹¤. (ì¼ë¶€ëŠ” -Xms, -Xmx ì™€ ê°™ì´ ì„¸ë°€í•œ ê°’ì„ ì£¼ëŠ”ê²Œ ì¢‹ë‹¤ê³  ë§í•¨)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"MaxRAMPercentage ì˜µì…˜ì„ ì£¼ë©´ -xmx ì˜µì…˜ì€ ë¬´ì‹œëœë‹¤. (InitialRAMPercentage ì˜µì…˜ì„ ì£¼ë©´ -xms ëŠ” ë¬´ì‹œë¨)\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ê² ì§€ë§Œ, \", _jsx(BlueText, {\n          children: \"ëŒ€ë¶€ë¶„ 80.0 ~ 75.0 ì •ë„ë¡œ ê¶Œì¥\"\n        }), \"í•˜ê³  ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ ë‚­ë¹„í•˜ì§€ ì•ŠëŠ”ë‹¤.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë‹¨, JDK 17 ë¶€í„° ê°€ëŠ¥í•˜ë‹¤. (ì›ë˜ëŠ” JDK 8 ë¶€í„° ì§€ì›í–ˆì§€ë§Œ Container ë¡œ ì¸ì‹ì„ í•˜ì§€ ëª»í•˜ëŠ” ë²„ê·¸ê°€ ìˆì—ˆê³ , JDK 13 ì—ì„œ ìˆ˜ì •ë˜ì—ˆë‹¤.)\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.ol, {\n      start: \"4\",\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"LivenessProbe ì™€ ReadinessProbe ë¥¼ ì„¤ì •í•´ì¤€ë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"XX: ActiveProcessorCount í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ limit CPU ì˜ 2ë°°ë¡œ ì„¤ì •í•œë‹¤.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"ë³‘ë ¬ GC ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜, í™ì„ ë§ì´ ì‚¬ìš©í•˜ë©´ G1/Z GC ë¥¼ ì‚¬ìš©í•´ë¼.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"-key-summary-\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#-key-summary-\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ğŸ”‘ Key Summary !!\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"ë©”ëª¨ë¦¬-ì „ëµ-heap--non-heap--ì—¬ìœ ë¶„\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#ë©”ëª¨ë¦¬-ì „ëµ-heap--non-heap--ì—¬ìœ ë¶„\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ë©”ëª¨ë¦¬ ì „ëµ (Heap / Non-heap / ì—¬ìœ ë¶„)\"]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsxs(_components.p, {\n        children: [\"Container ë©”ëª¨ë¦¬ ëŒ€ë¹„ Heap ë§Œ ìƒê°í•˜ì§€ ë§ê³ , \", _jsx(\"b\", {\n          children: \"Non-heap + thread stack + native memory + buffer\"\n        }), \" ë“±ì„ í•©ì‚°í•´ì•¼í•œë‹¤.\\nì´ˆê¸°ì—ëŠ” \", _jsx(\"b\", {\n          children: \"Container ë©”ëª¨ë¦¬ì˜ 60 ~ 70% ìˆ˜ì¤€ì˜ heap ìƒí•œ\"\n        }), \" ì„ ë‘ê³  ë‚˜ë¨¸ì§€ë¥¼ ì—¬ìœ ë¶„ìœ¼ë¡œ í™•ë³´í•˜ëŠ” ë°©ì‹ì´ ì•ˆì „í•˜ë‹¤.\"]\n      })\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsxs(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"Heap ~\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" ContainerMemory Ã— \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"0.60\"\n          }), \" ~ \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"0.75\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"Non-heap \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" Direct + Metaspace + CodeCache + \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"ThreadStack Ã— ThreadCount\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"Headroom \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" ìµœì†Œ \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"20\"\n          }), \"~25% ê¶Œì¥\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"1-ê¶Œì¥-jvm-í”Œë˜ê·¸\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#1-ê¶Œì¥-jvm-í”Œë˜ê·¸\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"1) ê¶Œì¥ JVM í”Œë˜ê·¸\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"í¼ì„¼íŠ¸ ê¸°ë°˜ì€ ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ë³€ë™ì— ìœ ì—°í•˜ë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsxs(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-XX:InitialRAMPercentage\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"60.0\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-XX:MaxRAMPercentage\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"70.0\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# í¼ì„¼íŠ¸ ê¸°ë°˜ì„ ì“°ë©´ -Xms/-XmxëŠ” ë¬´ì‹œë¨\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"2-ê³ ì •-heap-ì´-í•„ìš”í•œ-ê²½ìš°\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#2-ê³ ì •-heap-ì´-í•„ìš”í•œ-ê²½ìš°\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"2) ê³ ì • Heap ì´ í•„ìš”í•œ ê²½ìš°\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì„±ëŠ¥ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì´ ì¤‘ìš”í•˜ê±°ë‚˜, ì›Œí¬ë¡œë“œê°€ ì¼ì •í•˜ë‹¤ë©´ ê³ ì •ê°’ë„ ìœ íš¨í•˜ë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsxs(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-Xms\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \"2048m \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-Xmx\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \"2048m\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# ê³ ì • í™ì„ ì“¸ ë•ŒëŠ” ì»¨í…Œì´ë„ˆ ë©”ëª¨ë¦¬ ëŒ€ë¹„ Headroom(â‰¥25%)ì„ ë°˜ë“œì‹œ í™•ë³´\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.tip, {\n      children: _jsxs(_components.p, {\n        children: [\"MetaspaceëŠ” ëŒ€ê°œ ìˆ˜ë°± MB ì„ ì—ì„œ ì¶©ë¶„í•˜ë‹¤. í•„ìš” ì‹œ \", _jsx(_components.code, {\n          children: \"-XX:MaxMetaspaceSize=256m\"\n        }), \"ì²˜ëŸ¼ ìƒí•œì„ ì§€ì •í•´ ë©”ëª¨ë¦¬ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.\"]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"cpu-ì „ëµ-requestlimit-ìŠ¤ë ˆë“œ-ìˆ˜\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#cpu-ì „ëµ-requestlimit-ìŠ¤ë ˆë“œ-ìˆ˜\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"CPU ì „ëµ (Request/Limit, ìŠ¤ë ˆë“œ ìˆ˜)\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"1-qos-ì™€-request--limit-ì œí•œ\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#1-qos-ì™€-request--limit-ì œí•œ\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"1) QoS ì™€ Request / Limit ì œí•œ\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(BlueText, {\n          children: \"QoS Guaranteed\"\n        }), \"ë¥¼ ìœ„í•´ \", _jsx(BlueText, {\n          children: \"request = limit\"\n        }), \"ì„ ë™ì¼í•˜ê²Œ ë‘ëŠ” êµ¬ì„±ì´ ê°€ì¥ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ë‹¤.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ requestëŠ” \", _jsx(BlueText, {\n          children: \"í‰ê·  + 10%\"\n        }), \", limitì€ \", _jsx(BlueText, {\n          children: \"í”¼í¬ ìƒí•œ\"\n        }), \"ì— ê°€ê¹ê²Œ ì„¤ì •í•˜ë˜ \", _jsx(_components.strong, {\n          children: \"ì°¨ì´ë¥¼ ê³¼ë„í•˜ê²Œ ë²Œë¦¬ì§€ ì•Šê¸°\"\n        }), \".\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"2-cpu-ê°œìˆ˜-ëª…ì‹œ\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#2-cpu-ê°œìˆ˜-ëª…ì‹œ\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"2) CPU ê°œìˆ˜ ëª…ì‹œ\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ì»¨í…Œì´ë„ˆì˜ ì œí•œ ì½”ì–´ ìˆ˜ì™€ JVM ìŠ¤ë ˆë”©ì´ ì–´ê¸‹ë‚˜ë©´ ì›í•˜ëŠ” ì„±ëŠ¥ì´ ì•ˆ ë‚˜ì˜¬ ìˆ˜ ìˆë‹¤.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-XX:ActiveProcessorCount\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003c\"\n          }), \"ì»¨í…Œì´ë„ˆ limit ì½”ì–´ ìˆ˜ ë˜ëŠ” ê·¸ì— ì¤€í•˜ëŠ” ê°’\", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"\u003e\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsxs(_components.p, {\n        children: [\"CPU limitì— ëŒ€í•´ì„œëŠ” â€œì„¤ì •í•˜ì§€ ë§ìâ€ vs â€œì„¤ì •í•˜ìâ€ ë…¼ìŸì´ ìˆìœ¼ë‚˜,\\n\", _jsx(\"b\", {\n          children: \"ì—”í„°í”„ë¼ì´ì¦ˆ í™˜ê²½ì—ì„œëŠ” ì˜ˆì¸¡ ê°€ëŠ¥ì„±\"\n        }), \"ì„ ìœ„í•´ ì ì ˆí•œ limit ì‚¬ìš©ì´ ì‹¤ë¬´ì ìœ¼ë¡œ ë” ì•ˆì „í•œ ê²½ìš°ê°€ ë§ë‹¤.\"]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.success, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(\"b\", {\n          children: \"Think..\"\n        }), \"\\nâœ” request / limit memory, cpu ì„¤ì •í•˜ì.\\nâœ” -xss(ThreadStackSize) ëŠ” default ê°’ì´ 1M ì´ë¯€ë¡œ êµ³ì´ ì„¤ì •í•˜ì§€ ë§ì.\\nâœ” QoS Guaranteed ì¸ Pod ë¥¼ ìƒì„±í•˜ì.\\nâœ” livenessProbe, readinessProbe ë¥¼ ì„¤ì •í•˜ì.\\nâœ” ActiveProcessorCount í”Œë˜ê·¸ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.\\nâœ” Xms = Xmx ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ë™ì¼í•œ ê°’ìœ¼ë¡œ ë§ì¶”ëŠ” ê²ƒì´ë‹¤.\\nâ†’ ìµœëŒ€ í™ í¬ê¸°ë¥¼ ê³ ì •í•œë‹¤ë©´, Request / Limit memory ì˜ 60 ~ 80% ìœ¼ë¡œ ë§ì¶”ì.\\nâœ” (update) í™˜ê²½ì— ë”°ë¼ì„œ ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ, QoS ë¥¼ ì ìš©í•˜ê³  í¼ì„¼í…Œì´ì§€ë¡œ ì¡°ì •í•˜ëŠ” ê²ƒì´ ë³´ë‹¤ ë” ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜ì´ ë˜ëŠ” ê²ƒ ê°™ë‹¤..!\"]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"-reference\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#-reference\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ğŸ“š Reference\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://bell-sw.com/announcements/2020/10/28/JVM-in-Linux-containers-surviving-the-isolation/\",\n          children: \"JVM-in-Linux-containers-surviving-the-isolation\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://gist.github.com/petrbouda/92d794370134fc9dda1fdc05473c7165\",\n          children: \"ì»¨í…Œì´ë„ˆì™€ JVMì˜ ë©”ëª¨ë¦¬ Limit ë° Request\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://akobor.me/posts/heap-size-and-resource-limits-in-kubernetes-for-jvm-applications\",\n          children: \"JVM ì–´í”Œë¦¬ì¼€ì´ì…˜ ìš© Kubernetes ì˜ í™í¬ê¸°, ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ë° ë¦¬ì†ŒìŠ¤ ì œí•œ\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://findstar.pe.kr/2022/07/10/java-application-memory-size-on-container/\",\n          children: \"ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œì˜ Java ì–´í”Œë¦¬ì¼€ì´ì…˜ì˜ ë¦¬ì†ŒìŠ¤ì™€ ë©”ëª¨ë¦¬ ì„¤ì •\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://effectivesquid.tistory.com/entry/Kubernetes-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C%EC%9D%98-%EC%BB%B4%ED%93%A8%ED%8C%85-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%95%EB%B3%B4-%EB%B0%8F-%EC%A0%9C%ED%95%9C\",\n          children: \"Kubernetes ì»¨í…Œì´ë„ˆ í™˜ê²½ì—ì„œì˜ ì»´í“¨íŒ… ë¦¬ì†ŒìŠ¤ ì •ë³´ ë° ì œí•œ\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://medium.com/@anurag2397/solving-javas-core-problems-around-memory-and-cpu-4d0c97748c43\",\n          children: \"K8s í™˜ê²½ì—ì„œ ë” ë‚˜ì€ CPU ë° ë©”ëª¨ë¦¬ í™œìš©ì„ ìœ„í•´ JVM ì»¨í…Œì´ë„ˆë¥¼ ì¡°ì •í•©ë‹ˆë‹¤.\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://focusedlabs.io/blog/the-no-nonsense-guide-to-jvm-14-memory-on-kubernetes-508m\",\n          children: \"Kubernetes ì˜ JVM 14 ë©”ëª¨ë¦¬ì— ëŒ€í•œ ì‹¤ìš©ì ì¸ ê°€ì´ë“œ\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://online.cocktailcloud.io/2019/04/30/kubernetes-resource-request%EC%99%80-limit%EC%9D%98-%EC%9D%B4%ED%95%B4/\",\n          children: \"Kubernetes Resource Requestì™€ Limitì˜ ì´í•´\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://coffeewhale.com/kubernetes/mistake/2020/11/29/mistake-10/\",\n          children: \"ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì‰½ê²Œ ì €ì§€ë¥´ëŠ” 10ê°€ì§€ ì‹¤ìˆ˜\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{"title":"Java Application on kubernetes","date":"2024-05-22","tags":["Java","kubernetes"],"updated":"2025-09-02","summary":"Practical JVM and container tuning tips: memory sizing, CPU settings, probes, and GC choices tailored for K8s.","description":"ì»¨í…Œì´ë„ˆ/Kubernetes í™˜ê²½ì—ì„œ Java ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜í•˜ê¸° ìœ„í•œ ë©”ëª¨ë¦¬/CPU ì„¤ì •, í”„ë¡œë¸Œ, GC, QoS ì „ëµ ì •ë¦¬"}},"title":"Java Application on kubernetes","date":"2024-05-22","tags":["Java","kubernetes"],"updated":"2025-09-02","summary":"Practical JVM and container tuning tips: memory sizing, CPU settings, probes, and GC choices tailored for K8s.","description":"ì»¨í…Œì´ë„ˆ/Kubernetes í™˜ê²½ì—ì„œ Java ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì•ˆì •ì ìœ¼ë¡œ ìš´ì˜í•˜ê¸° ìœ„í•œ ë©”ëª¨ë¦¬/CPU ì„¤ì •, í”„ë¡œë¸Œ, GC, QoS ì „ëµ ì •ë¦¬"},"relatedPosts":[{"id":"play-with-playwright","title":"E2E(End to End) í…ŒìŠ¤íŠ¸ í”„ë ˆì„ ì›Œí¬ì¸, Playwright ë¡œ ë†€ì•„ë³´ì! (feat. playwright mcp + claude desktop)","date":"2025-08-02","tags":["Testing","Java"],"summary":"Have fun automating the browser with Playwright for Java","description":"Playwright ë¥¼ ê¸°ë°˜ìœ¼ë¡œ Java ì—ì„œ ë¸Œë¼ìš°ì € ìë™í™” í…ŒìŠ¤íŠ¸ë¥¼ ì¦ê²¨ë³´ì."},{"id":"refactoring-category-summary","title":"ë¦¬íŒ©í† ë§ ê¸°ìˆ ì— ëŒ€í•´ì„œ ì¹´í…Œê³ ë¦¬ë³„ ì •ë¦¬ - ìš”ì•½í¸","date":"2025-07-13","tags":["Clean Code","Java"],"summary":"A categorized summary of essential refactoring techniques for improving code structure and readability","description":"ìì£¼ ì‚¬ìš©ë˜ëŠ” ë¦¬íŒ©í† ë§ ê¸°ë²•ë“¤ì„ ì¹´í…Œê³ ë¦¬ë³„ë¡œ ì •ë¦¬í•œ ìš”ì•½í¸"},{"id":"try-with-resources","title":"try-with-resources ë¥¼ ì´ìš©í•œ ìì›í•´ì œ","date":"2024-10-10","tags":["Java"],"summary":"Letâ€™s explore how to manage and release resources using try-with-resources in Java.","description":"try-with-resources ë¥¼ ì´ìš©í•œ ìì›í•´ì œì™€ ë™ì‘ ë°©ì‹ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì."},{"id":"system-out-println-vs-logger","title":"Logger vs System.out.println","date":"2024-09-29","tags":["Java"],"summary":"Compare loggers with System.out.println, and find out why System.out.println should not be used in production code.","description":"ë¡œê±°ì™€ System.out.println ë¥¼ ë¹„êµí•´ë³´ê³ , ì™œ System.out.println ì„ í”„ëŸ¬ë•ì…˜ ì½”ë“œì—ì„œ ì‚¬ìš©í•˜ë©´ ì•ˆë˜ëŠ”ì§€ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì."},{"id":"lombok-using-points","title":"Lombok ì‚¬ìš© ì‹œ ìœ ì˜í•´ì•¼ í•  ì‚¬í•­ + Lombok ì˜ ë‹¨ì ","date":"2024-09-22","tags":["Java","Lombok"],"summary":"Points to Note When Using Lombok + Disadvantages of Lombok","description":"Java ì—ì„œ Lombok ì‚¬ìš© ì‹œ ìœ ì˜í•´ì•¼ í•  ì‚¬í•­ê³¼ ë‹¨ì ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì."},{"id":"lombok-precess","title":"ì»´íŒŒì¼ ê³¼ì •ê³¼ Lombok ì˜ ë™ì‘ ì›ë¦¬","date":"2024-09-03","tags":["Java","Lombok"],"summary":"Compilation Process and Lombok Principles of Operation","description":"ì»´íŒŒì¼ ê³¼ì •ê³¼ Lombok ì˜ ë™ì‘ ì›ë¦¬ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì"},{"id":"about-final","title":"ë¶ˆë³€ì„ì„ ë‚˜íƒ€ë‚´ëŠ” keyword - Final","date":"2024-09-01","tags":["Java"],"summary":"Keyword - Final to indicate invariant","description":"ë¶ˆë³€ì„ì„ ë‚˜íƒ€ë‚´ëŠ” Final keyword ì— ëŒ€í•´ì„œ, ê·¸ë¦¬ê³  ì–¸ì œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì„ê¹Œ? ì— ëŒ€í•œ ë‚´ìš©"},{"id":"kubernetes-qos","title":"Pod QoS, Quality of Service Classes","date":"2024-05-27","tags":["kubernetes"],"summary":"Pod Qos, Quality of Service Classes","description":"Pod Quality of Service Classes ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì"},{"id":"springformatter-checkstyle","title":"Spring formatter ì™€ Check Style ì‚¬ìš©í•˜ê¸°","date":"2024-05-26","tags":["Clean Code","Spring","Java"],"summary":"Using Spring formatter and Check Style","description":"IntelliJ ì—ì„œ Spring formatter ì™€ Check Style ë¡œ ì¼ê´€ì„± ìˆëŠ” ì½”ë“œ ì‘ì„±í•˜ê¸°"},{"id":"jvm-tuning","title":"JVM Tuning","date":"2021-05-30","tags":["Java"],"summary":"Let's learn about JVM Memory, Life Cycle, and Non-Standard Options","description":"JVM Memory ì˜ì—­, Life Cycle, Non-Standard Options ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì"}]},"__N_SSG":true},"page":"/post/[id]","query":{"id":"java-application-on-kubernetes"},"buildId":"B4H-FHvtcwtaNh-ZDIFct","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>