<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><title data-next-head="">Eottabom&#x27;s Lab. - &quot;어느 따뜻한 봄날이 나에게도 오겠지!!&quot; - 공부하는 개발자 기술 블로그</title><script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5103032140213770" crossorigin="anonymous"></script><link rel="preload" href="/_next/static/chunks/8b2777f4cb1c9c92.css" as="style"/><link rel="stylesheet" href="/_next/static/chunks/8b2777f4cb1c9c92.css" data-n-g=""/><noscript data-n-css=""></noscript><script src="/_next/static/chunks/2b377f202d74570b.js" defer=""></script><script src="/_next/static/chunks/11446f8a96c6cc02.js" defer=""></script><script src="/_next/static/chunks/ece6820c01fea276.js" defer=""></script><script src="/_next/static/chunks/turbopack-3d34e86d199fa6fc.js" defer=""></script><script src="/_next/static/chunks/41794d207a293030.js" defer=""></script><script src="/_next/static/chunks/3050115ccf9f1e48.js" defer=""></script><script src="/_next/static/chunks/turbopack-d5ef246e1825b172.js" defer=""></script><script src="/_next/static/mI_bHKbjoCUTCzOTBZh6S/_ssgManifest.js" defer=""></script><script src="/_next/static/mI_bHKbjoCUTCzOTBZh6S/_buildManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="fixed top-0 left-0 w-full h-1 z-50 bg-transparent"><div class="h-full bg-gradient-to-r from-black via-blue-500 to-teal-400 transition-all duration-150" style="width:0%"></div></div><header class="flex justify-end items-center px-6 py-4"><nav class="flex gap-6 items-center" aria-label="Main Navigation"><a class="text-black hover:text-blue-300 font-bold focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-md px-1" href="/">Main</a><a class="text-black hover:text-blue-300 font-extrabold underline underline-offset-4 focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-md px-1" aria-current="page" href="/post/">Posts</a><a class="text-black hover:text-blue-300 font-bold focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-md px-1" href="/book/">Book-Reviews</a><a class="text-black hover:text-blue-300 font-bold focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-md px-1" href="/link/">Useful-Links</a><a class="text-black hover:text-blue-300 font-bold focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-md px-1" href="/toolkit/">Toolkit</a><a class="text-black hover:text-blue-300 font-bold focus:outline-none focus:ring-2 focus:ring-blue-300 rounded-md px-1" href="/about/">About</a></nav></header><div class="max-w-[90rem] mx-auto px-6 py-20 flex gap-16"><main class="flex-1 prose prose-xl max-w-none"><h1 class="text-4xl font-bold mb-4">gRPC 를 도입하는 이유에 대해서 알아보자. (feat. Http 1.0 vs Http 1.1 vs Http 2.0)</h1><p class="text-gray-500 text-sm mb-8">2024-10-15</p><div class="flex flex-wrap gap-2 mb-8"><span class="px-2 py-1 text-mi font-medium bg-blue-50 text-blue-700 rounded-md dark:bg-blue-900 dark:text-blue-200">#<!-- -->gRPC</span><span class="px-2 py-1 text-mi font-medium bg-blue-50 text-blue-700 rounded-md dark:bg-blue-900 dark:text-blue-200">#<!-- -->Study</span></div><article class="overflow-x-auto"><div class="my-4 px-4 py-3 rounded-md prose bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-400 text-blue-900 dark:text-blue-100"><div class="flex gap-2 text-blue-700 dark:text-blue-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-blue-700 dark:text-blue-300"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">gRPC 는 Google 이 개발한 모든 환경에서 실행할 수 있는 오픈 소스 고성능 RPC 프레임워크이다.</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-blue-700 dark:text-blue-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">Monolithic → MSA 로 가면서, 여러개의 서비스로 분리가 되어졌는데,</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">그렇다보니, 하나의 응답을 처리하기 위해서 빈번하게 네트워크 통신이 발생하게 되어 Latency 가 증가할 수가 있게 되었다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">MSA 에서 gRPC 를 도입하면 어떤 이점이 있는지? 그리고 어떤 부분을 해소할 수 있는지 알아보자.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">더불어서 HTTP 1.0 vs HTTP 1.1 vs HTTP 2.0 에 대해서도 알아보자.</div></div></div>
<hr/>
<h3 id="monolithic--msa-전환시-network-latency"><a aria-hidden="true" tabindex="-1" href="#monolithic--msa-전환시-network-latency"><span class="icon icon-link"></span></a>Monolithic → MSA 전환시 Network Latency</h3>
<div style="text-align:center"><img src="/img/post/grpc/why/monolithic.png" alt="monolithic" style="display:inline-block"/></div>
<p>Monolithic 아키텍처에서는 하나의 Machine 에서 동일한 프로세스 내에서 실행되고, 서비스 간 통신은 <strong>메서드 호출</strong>로 이루어지므로 별도의 <strong>네트워크 통신이 필요 없다.</strong>
또한, 하나의 어플리케이션의 모든 서비스와 모듈이 동일한 메모리 공간에서 실행된다.</p>
<div style="text-align:center"><img src="/img/post/grpc/why/msa-network-latency.png" alt="msa-network-latency" style="display:inline-block"/></div>
<p>하지만, MSA 구조에서는 동일 장비가 아닐 수도 있는 여러 장비에 각각의 프로세스로 분리되다보니,
보통 <strong>REST 통신</strong>을 통해 메시지를 주고 받는 구조가 되는데(서버간 통신이 발생한다.), 이 때, <span class="text-red-600 font-bold">잠재적인 latency</span> 가 존재한다.
다른 Server 나 Frontend 에서 요청을 할 때 MSA 구간별 통신이 필요하다면, <span class="text-red-600 font-bold">응답속도가 저하된다는 단점</span> 이 존재하게 된다.</p>
<hr/>
<h3 id="q-어떤-요인으로-인해-응답-속도-저하가-발생할까"><a aria-hidden="true" tabindex="-1" href="#q-어떤-요인으로-인해-응답-속도-저하가-발생할까"><span class="icon icon-link"></span></a>Q. 어떤 요인으로 인해 응답 속도 저하가 발생할까?</h3>
<p><span class="text-blue-600 font-bold"><span style="font-size:1.5rem">A. </span></span>HTTP 는 기본적으로 TCP 위에서 동작하기 때문에, 데이터 송수신에 앞서 <code>3-way handshake</code> 과정을 거치고, <code>4-way handshake</code> 과정을 통해 종료가 되는데,
MSA 구조와 같이 서버간 통신이 빈번하게 일어나서 데이터를 전송하고 응답을 받는 상황이라면, <span class="text-blue-600 font-bold">매번 연결을 맺고 종료 하는 과정</span>이 발생해서
<span class="text-red-600 font-bold">비효율</span>이 발생하게 된다.</p>
<hr/>
<h3 id="http-10"><a aria-hidden="true" tabindex="-1" href="#http-10"><span class="icon icon-link"></span></a>HTTP 1.0</h3>
<p><code>HTTP 1.0</code> 은 웹의 태동과 함께 시작된 통신 표준이다. <br/>
기존의 1990년 팀 버너스리(Tim Berners-Lee) 가 최초의 웹 서버 및 클라이언트를 개발했을 때에는 상당히 단순한 구조였는데,</p>
<pre><code class="code-highlight"><span class="code-line">GET /index.html
</span></code></pre>
<ul>
<li>헤더 값이 없으며, Content-Type 없이 HTML 만 응답만 가능했다.</li>
<li>텍스트 기반 문서 전송에만 최적화 되었고, 실제 명세도 거의 없다고 해도 무방하다.</li>
</ul>
<p>웹의 인기가 폭발적으로 증가하며, 더 정형화된 명세의 필요성이 제기 되었고, 1996년 5월 IETF 에서 HTTP/1.0 을 공식 RFC 로 등록하게 되었다.</p>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://datatracker.ietf.org/doc/html/rfc1945" target="_blank">RFC-1945: Hypertext Transfer Protocol -- HTTP/1.0</a></div></div></div>
<br/>
<span class="text-blue-600 font-bold"><span style="font-size:1.2rem">HTTP 1.0 의 주요 도입 요소</span></span>
<table><thead><tr><th>기능</th><th>설명</th></tr></thead><tbody><tr><td>요청 메서드</td><td>GET, POST, HEAD 지원</td></tr><tr><td>응답 코드</td><td>200 OK, 404 Not Found, 500 Internal Server Error 등</td></tr><tr><td>헤더 도입</td><td>Content-Type, Content-Length, Date, Server, User-Agent 등</td></tr><tr><td>버전 명시</td><td>요청 라인에 <code>HTTP/1.0</code> 포함됨</td></tr><tr><td>MIME 타입 지원</td><td>다양한 콘텐츠 전송 기능 (HTML 외 이미지 등)</td></tr></tbody></table>
<hr/>
<h3 id="http-11"><a aria-hidden="true" tabindex="-1" href="#http-11"><span class="icon icon-link"></span></a>HTTP 1.1</h3>
<p><code>HTTP 1.0</code>은 요청마다 계속해서 새로운 TCP 연결을 맺은 다음에 요청을 처리하고 연결을 끊는 방식이다보니, <code>3-way handshake</code> 와<code>4-way handshake</code>하는 과정에서
<span class="text-red-600 font-bold">오버헤드가 발생해서 비효율적이다.</span> 그리고 요청에 대한 응답을 받은 후에 다음 요청을 보낼 수 있어서 요청/응답이 순차적/직렬적으로 처리되어
<span class="text-red-600 font-bold">Latency</span> 가 발생하게 된다.</p>
<p><code>HTTP 1.1</code> 에서는 이러한 문제를 해결하기 위해서 <code>Persistent Connection</code> 과 <code>Pipelining</code> 을 지원한다.</p>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">1999년 6월에 표준으로 채택된, <code>HTTP 1.1</code>은 웹의 핵심 전환점이 된 프로토콜이고,</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-purple-700 dark:text-purple-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line"><code>HTTP 1.0</code> 의 한계를 개선하여 더 안정적이고 효율적인 웹 통신을 가능하게 하였다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://www.rfc-editor.org/rfc/rfc9110.html">HTTP 1.1 RFC-9110 문서 보러가기</a></div></div></div>
<h4 id="1-persistent-connection-지속-연결"><a aria-hidden="true" tabindex="-1" href="#1-persistent-connection-지속-연결"><span class="icon icon-link"></span></a>1) Persistent Connection (지속 연결)</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/persistent-connection.png" alt="persistent-connection" style="display:inline-block"/></div>
<ul>
<li>Client ↔ Server 간 연결을 한 번 맺으면 여러 요청을 그 연결에서 처리할 수 있게 한다.</li>
<li><code>Connection: keep-alive</code> 헤더가 설정되어, Client 나 Server 가 명시적으로 연결을 끊지 않는 한 연결이 유지된다.</li>
</ul>
<h4 id="2-pipelining"><a aria-hidden="true" tabindex="-1" href="#2-pipelining"><span class="icon icon-link"></span></a>2) Pipelining</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/pipeliining.png" alt="pipeliining" style="display:inline-block"/></div>
<ul>
<li><code>Pipelining</code> 은 Client 가 Server 에 여러 요청을 <span class="text-blue-600 font-bold">연속적</span> 으로 보내고 순서대로 처리하는 방식이다.</li>
<li><code>Pipelining</code> 이 적용되면 <span class="text-blue-600 font-bold">하나의 Connection 으로 다수의 요청과 응답을 처리할 수 있게 해서 Latency 를 줄일 수 있다.</span></li>
</ul>
<div class="my-4 px-4 py-3 rounded-md prose bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 text-yellow-900 dark:text-yellow-100"><div class="flex gap-2 text-yellow-700 dark:text-yellow-200"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-yellow-700 dark:text-yellow-200"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">하지만, <b>완전한 멀티플렉싱이 아닌</b> 응답 처리를 미루는 방식이여서 각 응답의 순서는 순차적으로 처리되며,</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-yellow-700 dark:text-yellow-200"><div class="text-base leading-[1.6] break-words whitespace-pre-line">결국, 앞선 응답이 지연이 생기면 자연스럽게 그 이후의 요청은 지연이 발생하게 된다.</div></div></div>
<hr/>
<h3 id="http-11-의-문제점"><a aria-hidden="true" tabindex="-1" href="#http-11-의-문제점"><span class="icon icon-link"></span></a>HTTP 1.1 의 문제점</h3>
<p><code>HTTP 1.1</code>은 <code>Persistent Connection</code> 과 <code>Pipelining</code> 같은 기능을 통해서 <code>HTTP 1.0</code> 의 단점을 개선했지만, 여전히 여러 <strong>문제점</strong>이 남아 있다.</p>
<h4 id="1-head-of-line-blocking-holb"><a aria-hidden="true" tabindex="-1" href="#1-head-of-line-blocking-holb"><span class="icon icon-link"></span></a>1) Head-of-Line Blocking (HOLB)</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/head-of-line-blocking.png" alt="head-of-line-blocking" style="display:inline-block"/></div>
<ul>
<li>Client 가 세 개의 요청 (Request1, Request2, Request3) 을 동시에 보내지만, Server 는 순차적으로 처리한다.</li>
<li>첫 번째 요청 (Process1) 이 처리되는 동안 다른 요청들 (Process2, Process3) 은 차단(Blocked) 되어 대기 된다.</li>
</ul>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><b>Head-of-Line Blocking 이 발생하는 이유</b></div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-purple-700 dark:text-purple-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">순차적 처리 : HTTP 1.1 에서는 하나의 연결 위에서 요청이 순서대로 처리 되어야 한다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">직렬 응답 : 서버는 요청 받은 순서대로 응답해야하므로, 하나의 요청이 지연되면 다음 요청도 자연스럽게 지연된다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">리소스 다운로드 : 브라우저가 여러 리소스를 요청 할 때, 큰 파일(이미지, 동영상)이 먼저 다운로드 되면, 더 중요한 작은 파일들(css, js)이 대기한다.</div></div></div>
<h4 id="2-connection-관리의-비효율성"><a aria-hidden="true" tabindex="-1" href="#2-connection-관리의-비효율성"><span class="icon icon-link"></span></a>2) Connection 관리의 비효율성</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/high-server-load.png" alt="high-server-load" style="display:inline-block"/></div>
<ul>
<li>여러 Client 가 각각 Server 와 <code>Persistent Connection (지속 연결)</code>을 유지하게 되는 경우 서버는 여러 연결을 동시에 관리해야해서 서버에 부하가 갈 수 있다.</li>
</ul>
<h4 id="3-header-overhead"><a aria-hidden="true" tabindex="-1" href="#3-header-overhead"><span class="icon icon-link"></span></a>3) Header Overhead</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/header-overhead.png" alt="header-overhead" style="display:inline-block"/></div>
<ul>
<li>Client 가 Server 에 여러 요청을 보낼 때, 각 요청마다 동일한 Header 를 반복해서 전송하게 된다.</li>
<li>중복된 Header 정보는 불필요한 대역폭을 차지하게 되어 효율성이 떨어지게 된다.</li>
</ul>
<hr/>
<h3 id="http-20"><a aria-hidden="true" tabindex="-1" href="#http-20"><span class="icon icon-link"></span></a>HTTP 2.0</h3>
<p><code>HTTP 2.0</code>은 <code>HTTP 1.1</code>의 문제점인, <strong>HOLB(Head-of-Line Blocking), Header Overhead, 연결 관리의 비효율성</strong> 을 해결하기 위해 설계된 차세대 프로토콜이다.
2015년 5월 RFC-7540 으로 공식 표준화 되었다.</p>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://datatracker.ietf.org/doc/html/rfc7540" target="_blank">RFC-7540: Hypertext Transfer Protocol Version 2 (HTTP/2)</a></div></div></div>
<p><code>HTTP 2.0</code> 은 아래와 같은 주요 특징을 가지고 있다.</p>
<h4 id="1-multiplexing"><a aria-hidden="true" tabindex="-1" href="#1-multiplexing"><span class="icon icon-link"></span></a>1) Multiplexing</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/multiplexing.png" alt="multiplexing" style="display:inline-block"/></div>
<ul>
<li><code>HTTP 2.0</code> 은 요청와 응답을 <strong>병렬로 처리</strong> 할 수 있는 <strong>멀티 플렉싱</strong> 이다.<!-- -->
<ul>
<li>여러 TCP 설정을 할 필요 없이 한 번의 TCP 연결을 통해서 병렬로 처리할 수 있어서 <span class="text-blue-600 font-bold">네트워크 오버헤드가 감소한다. </span></li>
</ul>
</li>
<li>Client 가 여러 요청을 동시에 보내도, 각 요청이 독립적으로 처리되어서 <span class="text-blue-600 font-bold">Head-of-Line Blocking</span> 문제를 해결한다.</li>
<li>각 스트림에 <span class="text-blue-600 font-bold">우선 순위</span>를 할당하여 중요한 리소스를 먼저 전송할 수 있다.</li>
</ul>
<div class="my-4 px-4 py-3 rounded-md prose bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 text-yellow-900 dark:text-yellow-100"><div class="flex gap-2 text-yellow-700 dark:text-yellow-200"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-yellow-700 dark:text-yellow-200"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><b>Head-of-Line Blocking</b> 이 해결 되었다는 것은, Application Layer 에서 해결되었다는 것이다.</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-yellow-700 dark:text-yellow-200"><div class="text-base leading-[1.6] break-words whitespace-pre-line">HTTP/2 도 결국엔 TCP 위에서 동작하기 때문에 <b>Transport Layer</b> 에서의 <b>Head-of-Line Blocking</b> 은 존재한다.<!-- -->TCP 는 순서 보장을 위한 프로토콜이어서 중간에 패킷 손실이 발생하면, 손실된 패킷을 다시 전송받을 때까지 나머지 패킷 처리가 지연된다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">하나의 TCP 연결에서 여러 요청이 stream 으로 요청이 된다고 해도 중간에 패킷 손실이 있으면 지연이 발생한다는 의미이다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><b>Head-of-Line Blocking</b> 문제는 UDP 기반의 QUIC 프로토콜(HTTP/3) 에서 해결가능하다.</div></div></div>
<h4 id="2-header-압축-hpack"><a aria-hidden="true" tabindex="-1" href="#2-header-압축-hpack"><span class="icon icon-link"></span></a>2) Header 압축 (HPACK)</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/HPACK.png" alt="HPACK" style="display:inline-block"/></div>
<ul>
<li><code>HPACK</code> 이라는 <strong>헤더 압축</strong> 방식을 통해 반복적으로 전송되는 헤더 정보를 효율적으로 관리하며, <span class="text-blue-600 font-bold">데이터 전송량</span>을 줄이고, <span class="text-blue-600 font-bold">대역폭 사용</span>을
최적화 한다.</li>
</ul>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">HPACK 은 <b>정적 테이블</b>로 자주 사용되는 헤더 필드를 미리 정의해서 참조하고, <b>동적 테이블</b>로 이전에 전송된 헤더 필드를 저장하고 참조하는 방식을 사용한다.</div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-purple-700 dark:text-purple-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">압축은 <b>허프만 인코딩</b>을 사용하여 헤더 값을 효율적으로 인코딩하여 크기를 줄인다.</div></div></div>
<h4 id="3-서버-푸시-server-push"><a aria-hidden="true" tabindex="-1" href="#3-서버-푸시-server-push"><span class="icon icon-link"></span></a>3) 서버 푸시 (Server Push)</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/server-push.png" alt="server-push" style="display:inline-block"/></div>
<ul>
<li>Client 가 요청하지 않은 리소스도 Server 가 미리 전송할 수 있게 페이지 로딩 속도를 개선한다.</li>
<li>여러 요청/응답 사이클을 줄여 네트워크 사용을 최적화한다.</li>
<li><strong>우선 순위</strong> 를 지정하여 중요한 리소스를 먼저 푸시하여 페이지 렌더링 속도를 향상 시킬 수 있다.</li>
</ul>
<div class="my-4 px-4 py-3 rounded-md prose bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 text-yellow-900 dark:text-yellow-100"><div class="flex gap-2 text-yellow-700 dark:text-yellow-200"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-yellow-700 dark:text-yellow-200"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">과도한 서버 푸시는 불필요한 데이터 전송을 발생시킬 수 있다.</div></div></div>
<hr/>
<h3 id="http-11-과-http-20-의-차이점"><a aria-hidden="true" tabindex="-1" href="#http-11-과-http-20-의-차이점"><span class="icon icon-link"></span></a>HTTP 1.1 과 HTTP 2.0 의 차이점</h3>
<div style="text-align:center"><img src="/img/post/grpc/why/http_1_1-vs2_0.png" alt="http_1_1-vs2_0" style="display:inline-block"/></div>
<table><thead><tr><th>특징</th><th>HTTP 1.1</th><th>HTTP 2.x</th></tr></thead><tbody><tr><td>Connection</td><td>Persistent Connection (지속 연결)</td><td>Persistent Connection + Multiplexing</td></tr><tr><td>Request Handling</td><td>요청이 순차적으로 처리됨</td><td>요청이 동시에 처리 가능 (Multiplexing)</td></tr><tr><td>Header Compression</td><td>없음</td><td>HPACK 으로 헤더 압축</td></tr><tr><td>Protocol</td><td>텍스트 기반</td><td>Binary 기반</td></tr><tr><td>Prioritization</td><td>없음</td><td>스트림 우선 순위 설정 가능</td></tr><tr><td>Server Push</td><td>없음</td><td>있음</td></tr></tbody></table>
<hr/>
<h3 id="rest-api-의-단점"><a aria-hidden="true" tabindex="-1" href="#rest-api-의-단점"><span class="icon icon-link"></span></a>REST API 의 단점</h3>
<p>MSA 구조에서 서버간 통신을 <code>HTTP/2</code> 로만 변경해도 성능을 향상 시킬 수 있지만, <code>REST</code> 통신을 하게 되면 <code>JSON</code>으로 인한 문제가 성능에 영향을 미칠 수 있다.</p>
<h4 id="1-serialization--deserialization"><a aria-hidden="true" tabindex="-1" href="#1-serialization--deserialization"><span class="icon icon-link"></span></a>1) Serialization / Deserialization</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/json-payload.png" alt="json-payload" style="display:inline-block"/></div>
<ul>
<li><code>JSON</code> 은 <span class="text-blue-600 font-bold">텍스트 기반의 데이터 포맷</span> 이므로, <span class="text-red-600 font-bold">네트워크 효율성이 떨어진다. </span></li>
<li>직렬화 / 역직렬화 과정에서 CPU 사용량이 많이 필요해서 MSA 간의 빈번한 데이터 교환이 있다면, 성능 저하가 될 수 있다.</li>
</ul>
<h4 id="2-타입-제약"><a aria-hidden="true" tabindex="-1" href="#2-타입-제약"><span class="icon icon-link"></span></a>2) 타입 제약</h4>
<ul>
<li><code>JSON</code> 은 복잡한 데이터 구조나 날짜, 시간, 이진 데이터를 처리할 때 추가적인 파싱이나 인코딩이 필요하다.</li>
</ul>
<h4 id="3-데이터-중복"><a aria-hidden="true" tabindex="-1" href="#3-데이터-중복"><span class="icon icon-link"></span></a>3) 데이터 중복</h4>
<ul>
<li>필드를 key-value 쌍으로 표현하여 여러 개의 필드를 가진 객체에서 필드 이름이 반복되면 <strong>데이트 크기가 증가한다.</strong></li>
</ul>
<hr/>
<h3 id="q-grpc-에서는-rest-의-단점을-어떻게-해결-했을까"><a aria-hidden="true" tabindex="-1" href="#q-grpc-에서는-rest-의-단점을-어떻게-해결-했을까"><span class="icon icon-link"></span></a>Q. gRPC 에서는 REST 의 단점을 어떻게 해결 했을까?</h3>
<p><span class="text-blue-600 font-bold"><span style="font-size:1.5rem">A. </span></span> gRPC 는 <code>protobuf(Protocol Buffers)</code> 로 <strong>JSON 의 성능 문제</strong> 를 해결했다.</p>
<div class="my-4 px-4 py-3 rounded-md prose bg-purple-50 dark:bg-purple-900/30 border-l-4 border-purple-400 text-purple-900 dark:text-purple-100"><div class="flex gap-2 text-purple-700 dark:text-purple-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-purple-700 dark:text-purple-300"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"></path><path d="m9 12 2 2 4-4"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><b>Protobuf</b></div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-purple-700 dark:text-purple-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">✔ Google 이 개발한 <b> 언어 중립적 이고 플랫폼 중립적 </b> 인 데이터 직렬화 포맷이다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">✔ 다양한 프로그래밍 언어에서 동일한 스키마(proto 파일) 을 통해 데이터를 직렬화하고 역직렬화한다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">✔ gRPC 는 이 프로토콜을 활용해서 서버와 클라이언트 간의 효율적인 데이터 통신을 지원한다.</div></div></div>
<h4 id="1-serialization--deserialization-1"><a aria-hidden="true" tabindex="-1" href="#1-serialization--deserialization-1"><span class="icon icon-link"></span></a>1) Serialization / Deserialization</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/json_vs_protobuf.png" alt="json_vs_protobuf" style="display:inline-block"/></div>
<ul>
<li><code>protobuf</code> 는 바이너리 형식으로 인코딩 되어 더 작은 크기를 할당한다.</li>
<li>바이너리 형식은 파싱 속도가 더 빠르고, CPU 사용량도 적다.</li>
</ul>
<h4 id="2-타입-제약-1"><a aria-hidden="true" tabindex="-1" href="#2-타입-제약-1"><span class="icon icon-link"></span></a>2) 타입 제약</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/json_vs_protobuf2.png" alt="json_vs_protobuf2" style="display:inline-block"/></div>
<ul>
<li><code>protobuf</code> 는 각 필드의 타입을 명확히 지정한다.</li>
<li><code>JSON</code> 에서는 <code>age</code> 가 문자열로 되지만, <code>protobuf</code> 에서는 정수형으로 정의되어 타입 불일치를 방지한다.</li>
<li><code>Address</code> 와 같은 중첩된 구조를 명확하게 정의할 수 있다.</li>
</ul>
<h4 id="3-데이터-중복-1"><a aria-hidden="true" tabindex="-1" href="#3-데이터-중복-1"><span class="icon icon-link"></span></a>3) 데이터 중복</h4>
<div style="text-align:center"><img src="/img/post/grpc/why/json_vs_protobuf3.png" alt="json_vs_protobuf3" style="display:inline-block"/></div>
<ul>
<li><code>JSON</code> 에서는 각 객체마다 필드 이름이 반복되지만, <code>protobuf</code> 는 스키마에 한 번만 정의된다.</li>
</ul>
<hr/>
<h3 id="json-vs-protobuf-벤치마크"><a aria-hidden="true" tabindex="-1" href="#json-vs-protobuf-벤치마크"><span class="icon icon-link"></span></a>JSON vs Protobuf 벤치마크</h3>
<p>간단하게 http 기반 벤치마크를 돌려보면, <code>protobuf</code>(protobufBenchmark) 가 <code>JSON</code>(jsonBenchmark) 에 비해서 초당 처리할 수 있는 수가 많은 것을 알 수 있다.</p>
<table><thead><tr><th>Benchmark</th><th>Mode</th><th>Cnt</th><th>Score</th><th>Error</th><th>Units</th></tr></thead><tbody><tr><td>SerializationBenchmark.jsonBenchmark</td><td>thrpt</td><td>10</td><td>3550.345</td><td>± 46.399</td><td>ops/s</td></tr><tr><td>SerializationBenchmark.protobufBenchmark</td><td>thrpt</td><td>10</td><td>4203.831</td><td>± 97.497</td><td>ops/s</td></tr></tbody></table>
<div class="my-4 px-4 py-3 rounded-md prose bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 text-yellow-900 dark:text-yellow-100"><div class="flex gap-2 text-yellow-700 dark:text-yellow-200"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-yellow-700 dark:text-yellow-200"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><b>벤치 마크 결과</b></div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-yellow-700 dark:text-yellow-200"><div class="text-base leading-[1.6] break-words whitespace-pre-line">🏷️ <a href="https://github.com/eottabom/lego-piece/tree/main/benchmark" target="_blank">벤치 마크 결과 보기 (클릭)</a></div><div class="text-base leading-[1.6] break-words whitespace-pre-line">🏷️ <a href="https://github.com/eottabom/lego-piece/tree/main/benchmark/src/main/java/lego/benchmark/serialization" target="_blank">벤치 마크 코드 보러가기 (클릭)</a></div></div></div>
<hr/>
<h3 id="tips-grpc-서버-와-클라이언트-동작-원리"><a aria-hidden="true" tabindex="-1" href="#tips-grpc-서버-와-클라이언트-동작-원리"><span class="icon icon-link"></span></a>Tips) gRPC 서버 와 클라이언트 동작 원리</h3>
<div style="text-align:center"><img src="/img/post/grpc/why/grpc.png" alt="grpc" style="display:inline-block"/></div>
<p>출처 : <a href="https://grpc.io/docs/what-is-grpc/introduction/">https://grpc.io/docs/what-is-grpc/introduction/</a></p>
<h4 id="grpc-서버"><a aria-hidden="true" tabindex="-1" href="#grpc-서버"><span class="icon icon-link"></span></a>gRPC 서버</h4>
<ul>
<li>Client 가 호출할 <code>RPC(Remote Procedure Call)</code> 메서드를 구현</li>
<li>서버는 <code>Protocol Buffers</code> 로 정의된 <strong>서비스 인터페이스(proto 파일)</strong> 에 따라 서버측 비즈니스 로직을 구현</li>
<li>gRPC 서버는 클라이언트로부터 호출될 메서드를 구현체를 제공</li>
</ul>
<h4 id="grpc-클라이언트"><a aria-hidden="true" tabindex="-1" href="#grpc-클라이언트"><span class="icon icon-link"></span></a>gRPC 클라이언트</h4>
<ul>
<li>서버와 통신하기 위한 <code>stub</code> 이라는 객체 사용</li>
<li><code>stub</code> 은 클라이언트가 마치 서버에 직접 메서드를 호출하는 것처럼 RPC 메서드를 호출하는 인터페이스 제공</li>
<li><code>stub</code> 객체가 RPC 호출을 네트워크 요청으로 변환하여 gRPC 서버로 전송</li>
<li>서버는 요청을 처리한 후 응답을 클라이언트로 다시 반환</li>
</ul>
<h4 id="1-protocol-buffers-정의"><a aria-hidden="true" tabindex="-1" href="#1-protocol-buffers-정의"><span class="icon icon-link"></span></a>1) Protocol buffers 정의</h4>
<ul>
<li><code>.proto</code> 파일에 gRPC 서비스를 정의한다. (<code>GetPerson</code>)</li>
</ul>
<pre class="language-shell"><code class="language-shell code-highlight"><span class="code-line">syntax <span class="token operator">=</span> <span class="token string">&quot;proto3&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">option java_package <span class="token operator">=</span> <span class="token string">&quot;lego.example&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">option java_outer_classname <span class="token operator">=</span> <span class="token string">&quot;PersonProto&quot;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">service</span> PersonService <span class="token punctuation">{</span>
</span><span class="code-line">  rpc GetPerson<span class="token punctuation">(</span>PersonRequest<span class="token punctuation">)</span> returns <span class="token punctuation">(</span>PersonResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">message PersonRequest <span class="token punctuation">{</span>
</span><span class="code-line">  string name <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">message PersonResponse <span class="token punctuation">{</span>
</span><span class="code-line">  Person person <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">message Person <span class="token punctuation">{</span>
</span><span class="code-line">  string name <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line">  int32 age <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</span><span class="code-line">  string phoneNumber <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
</span><span class="code-line">  Address address <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">message Address <span class="token punctuation">{</span>
</span><span class="code-line">  string city <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line">  string zipCode <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h4 id="2-grpc-서버-구현"><a aria-hidden="true" tabindex="-1" href="#2-grpc-서버-구현"><span class="icon icon-link"></span></a>2) gRPC 서버 구현</h4>
<ul>
<li>서버는 <code>.proto</code> 파일에 정의한 서비스를 메서드를 실제로 구현하는 역할을 한다.</li>
<li><code>PersonServiceImpl</code> 은 <code>.proto</code> 파일에 정의된 <code>PersonService</code> 의 메서드를 실제로 구현하는 클래스</li>
</ul>
<pre class="language-java"><code class="language-java code-highlight"><span class="code-line"><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">PersonServer</span> <span class="token punctuation">{</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">PersonServer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">private</span> <span class="token class-name">PersonServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
</span><span class="code-line">		<span class="token class-name">Server</span> server <span class="token operator">=</span> <span class="token class-name">ServerBuilder</span><span class="token punctuation">.</span><span class="token function">forPort</span><span class="token punctuation">(</span><span class="token number">50051</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addService</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PersonServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;gRPC server start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">		server<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">		server<span class="token punctuation">.</span><span class="token function">awaitTermination</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">PersonServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">PersonServiceGrpc<span class="token punctuation">.</span>PersonServiceImplBase</span> <span class="token punctuation">{</span>
</span><span class="code-line">
</span><span class="code-line">		<span class="token annotation punctuation">@Override</span>
</span><span class="code-line">		<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token class-name">PersonProto<span class="token punctuation">.</span>PersonRequest</span> request<span class="token punctuation">,</span>
</span><span class="code-line">				<span class="token class-name">StreamObserver</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PersonProto<span class="token punctuation">.</span>PersonResponse</span><span class="token punctuation">&gt;</span></span> responseObserver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">
</span><span class="code-line">			<span class="token class-name">String</span> name <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">			<span class="token class-name">PersonProto<span class="token punctuation">.</span>PersonResponse</span> response<span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">			<span class="token class-name">PersonProto<span class="token punctuation">.</span>Address</span> address <span class="token operator">=</span> <span class="token class-name">PersonProto<span class="token punctuation">.</span>Address</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setCity</span><span class="token punctuation">(</span><span class="token string">&quot;Seoul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setZipCode</span><span class="token punctuation">(</span><span class="token string">&quot;1234&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">			<span class="token class-name">PersonProto<span class="token punctuation">.</span>Person</span> person <span class="token operator">=</span> <span class="token class-name">PersonProto<span class="token punctuation">.</span>Person</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">				<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</span><span class="code-line">				<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">35</span><span class="token punctuation">)</span>
</span><span class="code-line">				<span class="token punctuation">.</span><span class="token function">setPhoneNumber</span><span class="token punctuation">(</span><span class="token string">&quot;010-1234-1234&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">				<span class="token punctuation">.</span><span class="token function">setAddress</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span>
</span><span class="code-line">				<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">			response <span class="token operator">=</span> <span class="token class-name">PersonProto<span class="token punctuation">.</span>PersonResponse</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPerson</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">			responseObserver<span class="token punctuation">.</span><span class="token function">onNext</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">			responseObserver<span class="token punctuation">.</span><span class="token function">onCompleted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">		<span class="token punctuation">}</span>
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h4 id="3-grpc-클라이언트-구현"><a aria-hidden="true" tabindex="-1" href="#3-grpc-클라이언트-구현"><span class="icon icon-link"></span></a>3) gRPC 클라이언트 구현</h4>
<ul>
<li><code>ManagedChannelBuilder</code> 로 서버와 통신할 채널 생성</li>
<li>stub 생성 : <code>PersonServiceGrpc.PersonServiceBlockingStub stub = PersonServiceGrpc.newBlockingStub(channel)</code></li>
<li><code>stub.getPerson(request)</code> 메서드를 호출하면 클라이언트는 gRPC 서버에 <code>GetPerson</code> 메서드를 원격 호출하게 된다.</li>
</ul>
<pre class="language-java"><code class="language-java code-highlight"><span class="code-line"><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">PersonClient</span> <span class="token punctuation">{</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">PersonClient</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">private</span> <span class="token class-name">PersonClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">		<span class="token comment">// gRPC 채널 생성</span>
</span><span class="code-line">		<span class="token class-name">ManagedChannel</span> channel <span class="token operator">=</span> <span class="token class-name">ManagedChannelBuilder</span><span class="token punctuation">.</span><span class="token function">forAddress</span><span class="token punctuation">(</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span> <span class="token number">50051</span><span class="token punctuation">)</span>
</span><span class="code-line">			<span class="token punctuation">.</span><span class="token function">usePlaintext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">			<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">		<span class="token comment">// gRPC 서비스를 호출할 stub 생성</span>
</span><span class="code-line">		<span class="token class-name">PersonServiceGrpc<span class="token punctuation">.</span>PersonServiceBlockingStub</span> stub <span class="token operator">=</span> <span class="token class-name">PersonServiceGrpc</span><span class="token punctuation">.</span><span class="token function">newBlockingStub</span><span class="token punctuation">(</span>channel<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">		<span class="token class-name">PersonProto<span class="token punctuation">.</span>PersonRequest</span> request <span class="token operator">=</span> <span class="token class-name">PersonProto<span class="token punctuation">.</span>PersonRequest</span><span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">			<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;eottabom&quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">			<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">		<span class="token comment">// 서버에 RPC 호출을 보내고 응답을 받음</span>
</span><span class="code-line">		<span class="token class-name">PersonProto<span class="token punctuation">.</span>PersonResponse</span> response <span class="token operator">=</span> stub<span class="token punctuation">.</span><span class="token function">getPerson</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">		logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Server response : \n {}&quot;</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">		<span class="token comment">// 채널 종료</span>
</span><span class="code-line">		channel<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">	<span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<div class="my-4 px-4 py-3 rounded-md prose bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-400 text-yellow-900 dark:text-yellow-100"><div class="flex gap-2 text-yellow-700 dark:text-yellow-200"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-yellow-700 dark:text-yellow-200"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><path d="M12 9v4"></path><path d="M12 17h.01"></path></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><a href="https://github.com/eottabom/lego-piece/tree/main/example/src/main/java/lego/example/grpc" target="_blank">예제 코드 보러가기 (클릭)</a></div></div></div>
<hr/>
<div class="my-4 px-4 py-3 rounded-md prose bg-green-50 dark:bg-green-900/30 border-l-4 border-green-400 text-green-900 dark:text-green-100"><div class="flex gap-2 text-green-700 dark:text-green-300"><div class="flex-shrink-0 relative top-[0.2rem]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-green-700 dark:text-green-300"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div><div class="text-base leading-[1.6] break-words whitespace-pre-line"><b> 결론 </b></div></div><div class="mt-2 pl-[1.8rem] space-y-[0.4rem] text-green-700 dark:text-green-300"><div class="text-base leading-[1.6] break-words whitespace-pre-line">✔ MSA 구조에서는 빈번한 네트워크 통신이 발생하여 Latency 가 발생할 수 있다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">✔ HTTP/2 는 Multiplexing 와 Header Compression 으로 HTTP 1.x 의 단점을 극복하여 지연 문제를 개선할 수 있다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">✔ gRPC 는 기본적으로 HTTP/2 기반이여서 HTTP/2 의 장점이 그대로 있다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">✔ MSA 구조에서 REST 통신을 하게 되면 JSON Payload 로 인해서 데이트 크기, 파싱 성능 등의 문제가 발생할 수 있는데, gRPC 가 protobuf 를 사용하여 데이터 전송을 더 효율적으로 할 수 있다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">✔ protobuf 를 통해 데이터 구조와 타입이 명확히 정의되어 있어서 타입 불일치나 파싱 오류를 방지할 수 있다.</div><div class="text-base leading-[1.6] break-words whitespace-pre-line">✔ 언어와 플랫폼이 독립적이어서 다양한 언어/플랫폼에서 동일한 proto 파일을 이용해서 구현이 가능하다.</div></div></div>
<hr/>
<h3 id="-reference"><a aria-hidden="true" tabindex="-1" href="#-reference"><span class="icon icon-link"></span></a>📚 Reference</h3>
<ul>
<li><a href="https://cla9.tistory.com/175">1. gRPC 개요</a></li>
<li><a href="https://medium.com/@josemiguelmelo/the-basics-of-grpc-b017bbedb303">The basics of gRPC</a></li>
<li><a href="https://blog.postman.com/what-is-grpc/">What is gRPC?</a></li>
<li><a href="https://www.freecodecamp.org/news/what-is-grpc-protocol-buffers-stream-architecture/">What is gRPC? Protocol Buffers, Streaming, and Architecture Explained</a></li>
</ul></article><div class="mt-20 p-6 border rounded-2xl bg-gray-50 dark:bg-gray-800 shadow-sm"><h2 class="text-xl font-bold flex items-center gap-2 mb-6">🏷️ <span>같은 태그의 글 보기</span></h2><ul class="space-y-4"><li class="flex flex-col"><a class="text-base font-medium text-gray-800 hover:text-blue-600 no-underline dark:text-gray-100 dark:hover:text-blue-400 transition" href="/post/in-memory/">In Memory Database vs In Memory Data Grid</a><span class="text-sm text-gray-500 dark:text-gray-400">#Etc #Study</span></li><li class="flex flex-col"><a class="text-base font-medium text-gray-800 hover:text-blue-600 no-underline dark:text-gray-100 dark:hover:text-blue-400 transition" href="/post/virtualbox-centos-disk/">Virtualbox CentOS Disk 용량 늘리기</a><span class="text-sm text-gray-500 dark:text-gray-400">#Etc #Study</span></li><li class="flex flex-col"><a class="text-base font-medium text-gray-800 hover:text-blue-600 no-underline dark:text-gray-100 dark:hover:text-blue-400 transition" href="/post/9-Rules-of-Object-Oriented-Programming/">객체 지향 9가지 규칙</a><span class="text-sm text-gray-500 dark:text-gray-400">#Clean Code #Study</span></li></ul></div><div class="mt-10 flex justify-center min-h-[100px]"><div style="width:100%;max-width:728px;min-height:100px"><ins class="adsbygoogle" style="display:block;width:100%;min-height:100px" data-ad-client="ca-pub-5103032140213770" data-ad-slot="3384415421" data-ad-format="autorelaxed"></ins></div></div></main><aside class="hidden lg:block sticky top-[96px] w-60 h-[calc(100vh-96px)] pl-4 z-40 pb-[120px]"><div class="relative h-full"><div class="overflow-y-auto h-full pr-2 scrollbar-hide"><h2 class="text-sm font-semibold mb-2">🧾 목차</h2><ul class="space-y-1 text-xs sm:text-sm text-gray-700 pb-12"></ul></div></div></aside></div><a class="fixed bottom-6 right-6 z-50 bg-white border border-gray-300 rounded-lg shadow-md p-3 hover:shadow-lg transition" aria-label="목록으로 가기" href="/post/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6 text-gray-800"><line x1="8" x2="21" y1="6" y2="6"></line><line x1="8" x2="21" y1="12" y2="12"></line><line x1="8" x2="21" y1="18" y2="18"></line><line x1="3" x2="3.01" y1="6" y2="6"></line><line x1="3" x2="3.01" y1="12" y2="12"></line><line x1="3" x2="3.01" y1="18" y2="18"></line></svg></a></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"postData":{"id":"why-using-grpc","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    info: \"info\",\n    p: \"p\",\n    hr: \"hr\",\n    h3: \"h3\",\n    a: \"a\",\n    span: \"span\",\n    strong: \"strong\",\n    code: \"code\",\n    pre: \"pre\",\n    ul: \"ul\",\n    li: \"li\",\n    note: \"note\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    h4: \"h4\",\n    warning: \"warning\",\n    success: \"success\"\n  }, _provideComponents(), props.components), {RedText, BlueText} = _components;\n  if (!BlueText) _missingMdxReference(\"BlueText\", true);\n  if (!RedText) _missingMdxReference(\"RedText\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.info, {\n      children: _jsx(_components.p, {\n        children: \"gRPC 는 Google 이 개발한 모든 환경에서 실행할 수 있는 오픈 소스 고성능 RPC 프레임워크이다.\\nMonolithic → MSA 로 가면서, 여러개의 서비스로 분리가 되어졌는데,\\n그렇다보니, 하나의 응답을 처리하기 위해서 빈번하게 네트워크 통신이 발생하게 되어 Latency 가 증가할 수가 있게 되었다.\\nMSA 에서 gRPC 를 도입하면 어떤 이점이 있는지? 그리고 어떤 부분을 해소할 수 있는지 알아보자.\\n더불어서 HTTP 1.0 vs HTTP 1.1 vs HTTP 2.0 에 대해서도 알아보자.\"\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"monolithic--msa-전환시-network-latency\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#monolithic--msa-전환시-network-latency\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Monolithic → MSA 전환시 Network Latency\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/monolithic.png\",\n        alt: \"monolithic\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Monolithic 아키텍처에서는 하나의 Machine 에서 동일한 프로세스 내에서 실행되고, 서비스 간 통신은 \", _jsx(_components.strong, {\n        children: \"메서드 호출\"\n      }), \"로 이루어지므로 별도의 \", _jsx(_components.strong, {\n        children: \"네트워크 통신이 필요 없다.\"\n      }), \"\\n또한, 하나의 어플리케이션의 모든 서비스와 모듈이 동일한 메모리 공간에서 실행된다.\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/msa-network-latency.png\",\n        alt: \"msa-network-latency\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"하지만, MSA 구조에서는 동일 장비가 아닐 수도 있는 여러 장비에 각각의 프로세스로 분리되다보니,\\n보통 \", _jsx(_components.strong, {\n        children: \"REST 통신\"\n      }), \"을 통해 메시지를 주고 받는 구조가 되는데(서버간 통신이 발생한다.), 이 때, \", _jsx(RedText, {\n        children: \"잠재적인 latency\"\n      }), \" 가 존재한다.\\n다른 Server 나 Frontend 에서 요청을 할 때 MSA 구간별 통신이 필요하다면, \", _jsx(RedText, {\n        children: \"응답속도가 저하된다는 단점\"\n      }), \" 이 존재하게 된다.\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"q-어떤-요인으로-인해-응답-속도-저하가-발생할까\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#q-어떤-요인으로-인해-응답-속도-저하가-발생할까\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Q. 어떤 요인으로 인해 응답 속도 저하가 발생할까?\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(BlueText, {\n        children: _jsx(\"span\", {\n          style: {\n            fontSize: '1.5rem'\n          },\n          children: \"A. \"\n        })\n      }), \"HTTP 는 기본적으로 TCP 위에서 동작하기 때문에, 데이터 송수신에 앞서 \", _jsx(_components.code, {\n        children: \"3-way handshake\"\n      }), \" 과정을 거치고, \", _jsx(_components.code, {\n        children: \"4-way handshake\"\n      }), \" 과정을 통해 종료가 되는데,\\nMSA 구조와 같이 서버간 통신이 빈번하게 일어나서 데이터를 전송하고 응답을 받는 상황이라면, \", _jsx(BlueText, {\n        children: \"매번 연결을 맺고 종료 하는 과정\"\n      }), \"이 발생해서\\n\", _jsx(RedText, {\n        children: \"비효율\"\n      }), \"이 발생하게 된다.\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"http-10\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#http-10\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"HTTP 1.0\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"HTTP 1.0\"\n      }), \" 은 웹의 태동과 함께 시작된 통신 표준이다. \", _jsx(\"br\", {}), \"\\n기존의 1990년 팀 버너스리(Tim Berners-Lee) 가 최초의 웹 서버 및 클라이언트를 개발했을 때에는 상당히 단순한 구조였는데,\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"code-highlight\",\n        children: _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"GET /index.html\\n\"\n        })\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"헤더 값이 없으며, Content-Type 없이 HTML 만 응답만 가능했다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"텍스트 기반 문서 전송에만 최적화 되었고, 실제 명세도 거의 없다고 해도 무방하다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"웹의 인기가 폭발적으로 증가하며, 더 정형화된 명세의 필요성이 제기 되었고, 1996년 5월 IETF 에서 HTTP/1.0 을 공식 RFC 로 등록하게 되었다.\"\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsx(\"a\", {\n        href: \"https://datatracker.ietf.org/doc/html/rfc1945\",\n        target: \"_blank\",\n        children: \"RFC-1945: Hypertext Transfer Protocol -- HTTP/1.0\"\n      })\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsx(BlueText, {\n      children: _jsx(\"span\", {\n        style: {\n          fontSize: '1.2rem'\n        },\n        children: \"HTTP 1.0 의 주요 도입 요소\"\n      })\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"기능\"\n          }), _jsx(_components.th, {\n            children: \"설명\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"요청 메서드\"\n          }), _jsx(_components.td, {\n            children: \"GET, POST, HEAD 지원\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"응답 코드\"\n          }), _jsx(_components.td, {\n            children: \"200 OK, 404 Not Found, 500 Internal Server Error 등\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"헤더 도입\"\n          }), _jsx(_components.td, {\n            children: \"Content-Type, Content-Length, Date, Server, User-Agent 등\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"버전 명시\"\n          }), _jsxs(_components.td, {\n            children: [\"요청 라인에 \", _jsx(_components.code, {\n              children: \"HTTP/1.0\"\n            }), \" 포함됨\"]\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"MIME 타입 지원\"\n          }), _jsx(_components.td, {\n            children: \"다양한 콘텐츠 전송 기능 (HTML 외 이미지 등)\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"http-11\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#http-11\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"HTTP 1.1\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"HTTP 1.0\"\n      }), \"은 요청마다 계속해서 새로운 TCP 연결을 맺은 다음에 요청을 처리하고 연결을 끊는 방식이다보니, \", _jsx(_components.code, {\n        children: \"3-way handshake\"\n      }), \" 와\", _jsx(_components.code, {\n        children: \"4-way handshake\"\n      }), \"하는 과정에서\\n\", _jsx(RedText, {\n        children: \"오버헤드가 발생해서 비효율적이다.\"\n      }), \" 그리고 요청에 대한 응답을 받은 후에 다음 요청을 보낼 수 있어서 요청/응답이 순차적/직렬적으로 처리되어\\n\", _jsx(RedText, {\n        children: \"Latency\"\n      }), \" 가 발생하게 된다.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"HTTP 1.1\"\n      }), \" 에서는 이러한 문제를 해결하기 위해서 \", _jsx(_components.code, {\n        children: \"Persistent Connection\"\n      }), \" 과 \", _jsx(_components.code, {\n        children: \"Pipelining\"\n      }), \" 을 지원한다.\"]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsxs(_components.p, {\n        children: [\"1999년 6월에 표준으로 채택된, \", _jsx(_components.code, {\n          children: \"HTTP 1.1\"\n        }), \"은 웹의 핵심 전환점이 된 프로토콜이고,\\n\", _jsx(_components.code, {\n          children: \"HTTP 1.0\"\n        }), \" 의 한계를 개선하여 더 안정적이고 효율적인 웹 통신을 가능하게 하였다.\\n\", _jsx(\"a\", {\n          href: \"https://www.rfc-editor.org/rfc/rfc9110.html\",\n          children: \"HTTP 1.1 RFC-9110 문서 보러가기\"\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"1-persistent-connection-지속-연결\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#1-persistent-connection-지속-연결\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"1) Persistent Connection (지속 연결)\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/persistent-connection.png\",\n        alt: \"persistent-connection\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Client ↔ Server 간 연결을 한 번 맺으면 여러 요청을 그 연결에서 처리할 수 있게 한다.\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"Connection: keep-alive\"\n        }), \" 헤더가 설정되어, Client 나 Server 가 명시적으로 연결을 끊지 않는 한 연결이 유지된다.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"2-pipelining\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#2-pipelining\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"2) Pipelining\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/pipeliining.png\",\n        alt: \"pipeliining\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"Pipelining\"\n        }), \" 은 Client 가 Server 에 여러 요청을 \", _jsx(BlueText, {\n          children: \"연속적\"\n        }), \" 으로 보내고 순서대로 처리하는 방식이다.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"Pipelining\"\n        }), \" 이 적용되면 \", _jsx(BlueText, {\n          children: \"하나의 Connection 으로 다수의 요청과 응답을 처리할 수 있게 해서 Latency 를 줄일 수 있다.\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.warning, {\n      children: _jsxs(_components.p, {\n        children: [\"하지만, \", _jsx(\"b\", {\n          children: \"완전한 멀티플렉싱이 아닌\"\n        }), \" 응답 처리를 미루는 방식이여서 각 응답의 순서는 순차적으로 처리되며,\\n결국, 앞선 응답이 지연이 생기면 자연스럽게 그 이후의 요청은 지연이 발생하게 된다.\"]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"http-11-의-문제점\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#http-11-의-문제점\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"HTTP 1.1 의 문제점\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"HTTP 1.1\"\n      }), \"은 \", _jsx(_components.code, {\n        children: \"Persistent Connection\"\n      }), \" 과 \", _jsx(_components.code, {\n        children: \"Pipelining\"\n      }), \" 같은 기능을 통해서 \", _jsx(_components.code, {\n        children: \"HTTP 1.0\"\n      }), \" 의 단점을 개선했지만, 여전히 여러 \", _jsx(_components.strong, {\n        children: \"문제점\"\n      }), \"이 남아 있다.\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"1-head-of-line-blocking-holb\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#1-head-of-line-blocking-holb\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"1) Head-of-Line Blocking (HOLB)\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/head-of-line-blocking.png\",\n        alt: \"head-of-line-blocking\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Client 가 세 개의 요청 (Request1, Request2, Request3) 을 동시에 보내지만, Server 는 순차적으로 처리한다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"첫 번째 요청 (Process1) 이 처리되는 동안 다른 요청들 (Process2, Process3) 은 차단(Blocked) 되어 대기 된다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(\"b\", {\n          children: \"Head-of-Line Blocking 이 발생하는 이유\"\n        }), \"\\n순차적 처리 : HTTP 1.1 에서는 하나의 연결 위에서 요청이 순서대로 처리 되어야 한다.\\n직렬 응답 : 서버는 요청 받은 순서대로 응답해야하므로, 하나의 요청이 지연되면 다음 요청도 자연스럽게 지연된다.\\n리소스 다운로드 : 브라우저가 여러 리소스를 요청 할 때, 큰 파일(이미지, 동영상)이 먼저 다운로드 되면, 더 중요한 작은 파일들(css, js)이 대기한다.\"]\n      })\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"2-connection-관리의-비효율성\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#2-connection-관리의-비효율성\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"2) Connection 관리의 비효율성\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/high-server-load.png\",\n        alt: \"high-server-load\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"여러 Client 가 각각 Server 와 \", _jsx(_components.code, {\n          children: \"Persistent Connection (지속 연결)\"\n        }), \"을 유지하게 되는 경우 서버는 여러 연결을 동시에 관리해야해서 서버에 부하가 갈 수 있다.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"3-header-overhead\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#3-header-overhead\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"3) Header Overhead\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/header-overhead.png\",\n        alt: \"header-overhead\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Client 가 Server 에 여러 요청을 보낼 때, 각 요청마다 동일한 Header 를 반복해서 전송하게 된다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"중복된 Header 정보는 불필요한 대역폭을 차지하게 되어 효율성이 떨어지게 된다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"http-20\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#http-20\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"HTTP 2.0\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"HTTP 2.0\"\n      }), \"은 \", _jsx(_components.code, {\n        children: \"HTTP 1.1\"\n      }), \"의 문제점인, \", _jsx(_components.strong, {\n        children: \"HOLB(Head-of-Line Blocking), Header Overhead, 연결 관리의 비효율성\"\n      }), \" 을 해결하기 위해 설계된 차세대 프로토콜이다.\\n2015년 5월 RFC-7540 으로 공식 표준화 되었다.\"]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsx(\"a\", {\n        href: \"https://datatracker.ietf.org/doc/html/rfc7540\",\n        target: \"_blank\",\n        children: \"RFC-7540: Hypertext Transfer Protocol Version 2 (HTTP/2)\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.code, {\n        children: \"HTTP 2.0\"\n      }), \" 은 아래와 같은 주요 특징을 가지고 있다.\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"1-multiplexing\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#1-multiplexing\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"1) Multiplexing\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/multiplexing.png\",\n        alt: \"multiplexing\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"HTTP 2.0\"\n        }), \" 은 요청와 응답을 \", _jsx(_components.strong, {\n          children: \"병렬로 처리\"\n        }), \" 할 수 있는 \", _jsx(_components.strong, {\n          children: \"멀티 플렉싱\"\n        }), \" 이다.\", \"\\n\", _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"여러 TCP 설정을 할 필요 없이 한 번의 TCP 연결을 통해서 병렬로 처리할 수 있어서 \", _jsx(BlueText, {\n              children: \"네트워크 오버헤드가 감소한다. \"\n            })]\n          }), \"\\n\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"Client 가 여러 요청을 동시에 보내도, 각 요청이 독립적으로 처리되어서 \", _jsx(BlueText, {\n          children: \"Head-of-Line Blocking\"\n        }), \" 문제를 해결한다.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"각 스트림에 \", _jsx(BlueText, {\n          children: \"우선 순위\"\n        }), \"를 할당하여 중요한 리소스를 먼저 전송할 수 있다.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.warning, {\n      children: [_jsxs(_components.p, {\n        children: [_jsx(\"b\", {\n          children: \"Head-of-Line Blocking\"\n        }), \" 이 해결 되었다는 것은, Application Layer 에서 해결되었다는 것이다.\\nHTTP/2 도 결국엔 TCP 위에서 동작하기 때문에 \", _jsx(\"b\", {\n          children: \"Transport Layer\"\n        }), \" 에서의 \", _jsx(\"b\", {\n          children: \"Head-of-Line Blocking\"\n        }), \" 은 존재한다.\"]\n      }), _jsxs(_components.p, {\n        children: [\"TCP 는 순서 보장을 위한 프로토콜이어서 중간에 패킷 손실이 발생하면, 손실된 패킷을 다시 전송받을 때까지 나머지 패킷 처리가 지연된다.\\n하나의 TCP 연결에서 여러 요청이 stream 으로 요청이 된다고 해도 중간에 패킷 손실이 있으면 지연이 발생한다는 의미이다.\\n\", _jsx(\"b\", {\n          children: \"Head-of-Line Blocking\"\n        }), \" 문제는 UDP 기반의 QUIC 프로토콜(HTTP/3) 에서 해결가능하다.\"]\n      })]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"2-header-압축-hpack\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#2-header-압축-hpack\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"2) Header 압축 (HPACK)\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/HPACK.png\",\n        alt: \"HPACK\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"HPACK\"\n        }), \" 이라는 \", _jsx(_components.strong, {\n          children: \"헤더 압축\"\n        }), \" 방식을 통해 반복적으로 전송되는 헤더 정보를 효율적으로 관리하며, \", _jsx(BlueText, {\n          children: \"데이터 전송량\"\n        }), \"을 줄이고, \", _jsx(BlueText, {\n          children: \"대역폭 사용\"\n        }), \"을\\n최적화 한다.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsxs(_components.p, {\n        children: [\"HPACK 은 \", _jsx(\"b\", {\n          children: \"정적 테이블\"\n        }), \"로 자주 사용되는 헤더 필드를 미리 정의해서 참조하고, \", _jsx(\"b\", {\n          children: \"동적 테이블\"\n        }), \"로 이전에 전송된 헤더 필드를 저장하고 참조하는 방식을 사용한다.\\n압축은 \", _jsx(\"b\", {\n          children: \"허프만 인코딩\"\n        }), \"을 사용하여 헤더 값을 효율적으로 인코딩하여 크기를 줄인다.\"]\n      })\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"3-서버-푸시-server-push\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#3-서버-푸시-server-push\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"3) 서버 푸시 (Server Push)\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/server-push.png\",\n        alt: \"server-push\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"Client 가 요청하지 않은 리소스도 Server 가 미리 전송할 수 있게 페이지 로딩 속도를 개선한다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"여러 요청/응답 사이클을 줄여 네트워크 사용을 최적화한다.\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"우선 순위\"\n        }), \" 를 지정하여 중요한 리소스를 먼저 푸시하여 페이지 렌더링 속도를 향상 시킬 수 있다.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.warning, {\n      children: _jsx(_components.p, {\n        children: \"과도한 서버 푸시는 불필요한 데이터 전송을 발생시킬 수 있다.\"\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"http-11-과-http-20-의-차이점\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#http-11-과-http-20-의-차이점\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"HTTP 1.1 과 HTTP 2.0 의 차이점\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/http_1_1-vs2_0.png\",\n        alt: \"http_1_1-vs2_0\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"특징\"\n          }), _jsx(_components.th, {\n            children: \"HTTP 1.1\"\n          }), _jsx(_components.th, {\n            children: \"HTTP 2.x\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"Connection\"\n          }), _jsx(_components.td, {\n            children: \"Persistent Connection (지속 연결)\"\n          }), _jsx(_components.td, {\n            children: \"Persistent Connection + Multiplexing\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"Request Handling\"\n          }), _jsx(_components.td, {\n            children: \"요청이 순차적으로 처리됨\"\n          }), _jsx(_components.td, {\n            children: \"요청이 동시에 처리 가능 (Multiplexing)\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"Header Compression\"\n          }), _jsx(_components.td, {\n            children: \"없음\"\n          }), _jsx(_components.td, {\n            children: \"HPACK 으로 헤더 압축\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"Protocol\"\n          }), _jsx(_components.td, {\n            children: \"텍스트 기반\"\n          }), _jsx(_components.td, {\n            children: \"Binary 기반\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"Prioritization\"\n          }), _jsx(_components.td, {\n            children: \"없음\"\n          }), _jsx(_components.td, {\n            children: \"스트림 우선 순위 설정 가능\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"Server Push\"\n          }), _jsx(_components.td, {\n            children: \"없음\"\n          }), _jsx(_components.td, {\n            children: \"있음\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"rest-api-의-단점\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#rest-api-의-단점\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"REST API 의 단점\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"MSA 구조에서 서버간 통신을 \", _jsx(_components.code, {\n        children: \"HTTP/2\"\n      }), \" 로만 변경해도 성능을 향상 시킬 수 있지만, \", _jsx(_components.code, {\n        children: \"REST\"\n      }), \" 통신을 하게 되면 \", _jsx(_components.code, {\n        children: \"JSON\"\n      }), \"으로 인한 문제가 성능에 영향을 미칠 수 있다.\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"1-serialization--deserialization\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#1-serialization--deserialization\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"1) Serialization / Deserialization\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/json-payload.png\",\n        alt: \"json-payload\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"JSON\"\n        }), \" 은 \", _jsx(BlueText, {\n          children: \"텍스트 기반의 데이터 포맷\"\n        }), \" 이므로, \", _jsx(RedText, {\n          children: \"네트워크 효율성이 떨어진다. \"\n        })]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"직렬화 / 역직렬화 과정에서 CPU 사용량이 많이 필요해서 MSA 간의 빈번한 데이터 교환이 있다면, 성능 저하가 될 수 있다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"2-타입-제약\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#2-타입-제약\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"2) 타입 제약\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"JSON\"\n        }), \" 은 복잡한 데이터 구조나 날짜, 시간, 이진 데이터를 처리할 때 추가적인 파싱이나 인코딩이 필요하다.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"3-데이터-중복\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#3-데이터-중복\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"3) 데이터 중복\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"필드를 key-value 쌍으로 표현하여 여러 개의 필드를 가진 객체에서 필드 이름이 반복되면 \", _jsx(_components.strong, {\n          children: \"데이트 크기가 증가한다.\"\n        })]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"q-grpc-에서는-rest-의-단점을-어떻게-해결-했을까\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#q-grpc-에서는-rest-의-단점을-어떻게-해결-했을까\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Q. gRPC 에서는 REST 의 단점을 어떻게 해결 했을까?\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(BlueText, {\n        children: _jsx(\"span\", {\n          style: {\n            fontSize: '1.5rem'\n          },\n          children: \"A. \"\n        })\n      }), \" gRPC 는 \", _jsx(_components.code, {\n        children: \"protobuf(Protocol Buffers)\"\n      }), \" 로 \", _jsx(_components.strong, {\n        children: \"JSON 의 성능 문제\"\n      }), \" 를 해결했다.\"]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(\"b\", {\n          children: \"Protobuf\"\n        }), \"\\n✔ Google 이 개발한 \", _jsx(\"b\", {\n          children: \" 언어 중립적 이고 플랫폼 중립적 \"\n        }), \" 인 데이터 직렬화 포맷이다.\\n✔ 다양한 프로그래밍 언어에서 동일한 스키마(proto 파일) 을 통해 데이터를 직렬화하고 역직렬화한다.\\n✔ gRPC 는 이 프로토콜을 활용해서 서버와 클라이언트 간의 효율적인 데이터 통신을 지원한다.\"]\n      })\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"1-serialization--deserialization-1\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#1-serialization--deserialization-1\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"1) Serialization / Deserialization\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/json_vs_protobuf.png\",\n        alt: \"json_vs_protobuf\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"protobuf\"\n        }), \" 는 바이너리 형식으로 인코딩 되어 더 작은 크기를 할당한다.\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"바이너리 형식은 파싱 속도가 더 빠르고, CPU 사용량도 적다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"2-타입-제약-1\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#2-타입-제약-1\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"2) 타입 제약\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/json_vs_protobuf2.png\",\n        alt: \"json_vs_protobuf2\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"protobuf\"\n        }), \" 는 각 필드의 타입을 명확히 지정한다.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"JSON\"\n        }), \" 에서는 \", _jsx(_components.code, {\n          children: \"age\"\n        }), \" 가 문자열로 되지만, \", _jsx(_components.code, {\n          children: \"protobuf\"\n        }), \" 에서는 정수형으로 정의되어 타입 불일치를 방지한다.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"Address\"\n        }), \" 와 같은 중첩된 구조를 명확하게 정의할 수 있다.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"3-데이터-중복-1\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#3-데이터-중복-1\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"3) 데이터 중복\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/json_vs_protobuf3.png\",\n        alt: \"json_vs_protobuf3\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"JSON\"\n        }), \" 에서는 각 객체마다 필드 이름이 반복되지만, \", _jsx(_components.code, {\n          children: \"protobuf\"\n        }), \" 는 스키마에 한 번만 정의된다.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"json-vs-protobuf-벤치마크\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#json-vs-protobuf-벤치마크\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"JSON vs Protobuf 벤치마크\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"간단하게 http 기반 벤치마크를 돌려보면, \", _jsx(_components.code, {\n        children: \"protobuf\"\n      }), \"(protobufBenchmark) 가 \", _jsx(_components.code, {\n        children: \"JSON\"\n      }), \"(jsonBenchmark) 에 비해서 초당 처리할 수 있는 수가 많은 것을 알 수 있다.\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"Benchmark\"\n          }), _jsx(_components.th, {\n            children: \"Mode\"\n          }), _jsx(_components.th, {\n            children: \"Cnt\"\n          }), _jsx(_components.th, {\n            children: \"Score\"\n          }), _jsx(_components.th, {\n            children: \"Error\"\n          }), _jsx(_components.th, {\n            children: \"Units\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"SerializationBenchmark.jsonBenchmark\"\n          }), _jsx(_components.td, {\n            children: \"thrpt\"\n          }), _jsx(_components.td, {\n            children: \"10\"\n          }), _jsx(_components.td, {\n            children: \"3550.345\"\n          }), _jsx(_components.td, {\n            children: \"± 46.399\"\n          }), _jsx(_components.td, {\n            children: \"ops/s\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"SerializationBenchmark.protobufBenchmark\"\n          }), _jsx(_components.td, {\n            children: \"thrpt\"\n          }), _jsx(_components.td, {\n            children: \"10\"\n          }), _jsx(_components.td, {\n            children: \"4203.831\"\n          }), _jsx(_components.td, {\n            children: \"± 97.497\"\n          }), _jsx(_components.td, {\n            children: \"ops/s\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.warning, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(\"b\", {\n          children: \"벤치 마크 결과\"\n        }), \"\\n🏷️ \", _jsx(\"a\", {\n          href: \"https://github.com/eottabom/lego-piece/tree/main/benchmark\",\n          target: \"_blank\",\n          children: \"벤치 마크 결과 보기 (클릭)\"\n        }), \"\\n🏷️ \", _jsx(\"a\", {\n          href: \"https://github.com/eottabom/lego-piece/tree/main/benchmark/src/main/java/lego/benchmark/serialization\",\n          target: \"_blank\",\n          children: \"벤치 마크 코드 보러가기 (클릭)\"\n        })]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"tips-grpc-서버-와-클라이언트-동작-원리\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#tips-grpc-서버-와-클라이언트-동작-원리\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Tips) gRPC 서버 와 클라이언트 동작 원리\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/grpc/why/grpc.png\",\n        alt: \"grpc\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"출처 : \", _jsx(_components.a, {\n        href: \"https://grpc.io/docs/what-is-grpc/introduction/\",\n        children: \"https://grpc.io/docs/what-is-grpc/introduction/\"\n      })]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"grpc-서버\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#grpc-서버\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"gRPC 서버\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"Client 가 호출할 \", _jsx(_components.code, {\n          children: \"RPC(Remote Procedure Call)\"\n        }), \" 메서드를 구현\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"서버는 \", _jsx(_components.code, {\n          children: \"Protocol Buffers\"\n        }), \" 로 정의된 \", _jsx(_components.strong, {\n          children: \"서비스 인터페이스(proto 파일)\"\n        }), \" 에 따라 서버측 비즈니스 로직을 구현\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"gRPC 서버는 클라이언트로부터 호출될 메서드를 구현체를 제공\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"grpc-클라이언트\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#grpc-클라이언트\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"gRPC 클라이언트\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"서버와 통신하기 위한 \", _jsx(_components.code, {\n          children: \"stub\"\n        }), \" 이라는 객체 사용\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"stub\"\n        }), \" 은 클라이언트가 마치 서버에 직접 메서드를 호출하는 것처럼 RPC 메서드를 호출하는 인터페이스 제공\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"stub\"\n        }), \" 객체가 RPC 호출을 네트워크 요청으로 변환하여 gRPC 서버로 전송\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"서버는 요청을 처리한 후 응답을 클라이언트로 다시 반환\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"1-protocol-buffers-정의\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#1-protocol-buffers-정의\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"1) Protocol buffers 정의\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \".proto\"\n        }), \" 파일에 gRPC 서비스를 정의한다. (\", _jsx(_components.code, {\n          children: \"GetPerson\"\n        }), \")\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsxs(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"syntax \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"proto3\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"option java_package \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"lego.example\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"option java_outer_classname \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"PersonProto\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token function\",\n            children: \"service\"\n          }), \" PersonService \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  rpc GetPerson\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"PersonRequest\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" returns \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"PersonResponse\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"message PersonRequest \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  string name \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"message PersonResponse \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  Person person \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"message Person \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  string name \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  int32 age \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"2\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  string phoneNumber \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"3\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  Address address \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"4\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"message Address \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  string city \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  string zipCode \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"2\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"2-grpc-서버-구현\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#2-grpc-서버-구현\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"2) gRPC 서버 구현\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"서버는 \", _jsx(_components.code, {\n          children: \".proto\"\n        }), \" 파일에 정의한 서비스를 메서드를 실제로 구현하는 역할을 한다.\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"PersonServiceImpl\"\n        }), \" 은 \", _jsx(_components.code, {\n          children: \".proto\"\n        }), \" 파일에 정의된 \", _jsx(_components.code, {\n          children: \"PersonService\"\n        }), \" 의 메서드를 실제로 구현하는 클래스\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-java\",\n      children: _jsxs(_components.code, {\n        className: \"language-java code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"final\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"PersonServer\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"private\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"static\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"final\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"Logger\"\n          }), \" logger \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"LoggerFactory\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"getLogger\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"PersonServer\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"class\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"private\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"PersonServer\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"static\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"void\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"main\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"String\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \" args\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"throws\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"IOException\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"InterruptedException\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"Server\"\n          }), \" server \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"ServerBuilder\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"forPort\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"50051\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"addService\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"new\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"PersonServiceImpl\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"build\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\tlogger\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"info\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"gRPC server start\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\tserver\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"start\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\tserver\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"awaitTermination\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"static\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"PersonServiceImpl\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"extends\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonServiceGrpc\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"PersonServiceImplBase\"]\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsx(_components.span, {\n            className: \"token annotation punctuation\",\n            children: \"@Override\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"void\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"getPerson\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonProto\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"PersonRequest\"]\n          }), \" request\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"StreamObserver\"\n          }), _jsxs(_components.span, {\n            className: \"token generics\",\n            children: [_jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003c\"\n            }), _jsxs(_components.span, {\n              className: \"token class-name\",\n              children: [\"PersonProto\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \".\"\n              }), \"PersonResponse\"]\n            }), _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \"\u003e\"\n            })]\n          }), \" responseObserver\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"String\"\n          }), \" name \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" request\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"getName\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonProto\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"PersonResponse\"]\n          }), \" response\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonProto\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"Address\"]\n          }), \" address \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonProto\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"Address\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"newBuilder\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"setCity\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Seoul\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"setZipCode\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"1234\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"build\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonProto\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"Person\"]\n          }), \" person \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonProto\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"Person\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"newBuilder\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"setName\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"name\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"setAge\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"35\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"setPhoneNumber\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"010-1234-1234\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"setAddress\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"address\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"build\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\tresponse \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonProto\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"PersonResponse\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"newBuilder\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"setPerson\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"person\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"build\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\tresponseObserver\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"onNext\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"response\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\tresponseObserver\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"onCompleted\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsxs(_components.h4, {\n      id: \"3-grpc-클라이언트-구현\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#3-grpc-클라이언트-구현\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"3) gRPC 클라이언트 구현\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"ManagedChannelBuilder\"\n        }), \" 로 서버와 통신할 채널 생성\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"stub 생성 : \", _jsx(_components.code, {\n          children: \"PersonServiceGrpc.PersonServiceBlockingStub stub = PersonServiceGrpc.newBlockingStub(channel)\"\n        })]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.code, {\n          children: \"stub.getPerson(request)\"\n        }), \" 메서드를 호출하면 클라이언트는 gRPC 서버에 \", _jsx(_components.code, {\n          children: \"GetPerson\"\n        }), \" 메서드를 원격 호출하게 된다.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-java\",\n      children: _jsxs(_components.code, {\n        className: \"language-java code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"final\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"class\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"PersonClient\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"private\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"static\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"final\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"Logger\"\n          }), \" logger \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"LoggerFactory\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"getLogger\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"PersonClient\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"class\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"private\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"PersonClient\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"public\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"static\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token keyword\",\n            children: \"void\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token function\",\n            children: \"main\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"String\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \" args\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// gRPC 채널 생성\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"ManagedChannel\"\n          }), \" channel \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"ManagedChannelBuilder\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"forAddress\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"localhost\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"50051\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"usePlaintext\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"build\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// gRPC 서비스를 호출할 stub 생성\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonServiceGrpc\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"PersonServiceBlockingStub\"]\n          }), \" stub \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token class-name\",\n            children: \"PersonServiceGrpc\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"newBlockingStub\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"channel\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonProto\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"PersonRequest\"]\n          }), \" request \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" \", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonProto\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"PersonRequest\"]\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"newBuilder\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"setName\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"eottabom\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"build\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// 서버에 RPC 호출을 보내고 응답을 받음\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsxs(_components.span, {\n            className: \"token class-name\",\n            children: [\"PersonProto\", _jsx(_components.span, {\n              className: \"token punctuation\",\n              children: \".\"\n            }), \"PersonResponse\"]\n          }), \" response \", _jsx(_components.span, {\n            className: \"token operator\",\n            children: \"=\"\n          }), \" stub\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"getPerson\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), \"request\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\tlogger\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"info\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"Server response : \\\\n {}\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \",\"\n          }), \" response\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"toString\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\t\", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"// 채널 종료\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\\tchannel\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \".\"\n          }), _jsx(_components.span, {\n            className: \"token function\",\n            children: \"shutdown\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"(\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \")\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \";\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"\\t\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.warning, {\n      children: _jsx(\"a\", {\n        href: \"https://github.com/eottabom/lego-piece/tree/main/example/src/main/java/lego/example/grpc\",\n        target: \"_blank\",\n        children: \"예제 코드 보러가기 (클릭)\"\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsx(_components.success, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(\"b\", {\n          children: \" 결론 \"\n        }), \"\\n✔ MSA 구조에서는 빈번한 네트워크 통신이 발생하여 Latency 가 발생할 수 있다.\\n✔ HTTP/2 는 Multiplexing 와 Header Compression 으로 HTTP 1.x 의 단점을 극복하여 지연 문제를 개선할 수 있다.\\n✔ gRPC 는 기본적으로 HTTP/2 기반이여서 HTTP/2 의 장점이 그대로 있다.\\n✔ MSA 구조에서 REST 통신을 하게 되면 JSON Payload 로 인해서 데이트 크기, 파싱 성능 등의 문제가 발생할 수 있는데, gRPC 가 protobuf 를 사용하여 데이터 전송을 더 효율적으로 할 수 있다.\\n✔ protobuf 를 통해 데이터 구조와 타입이 명확히 정의되어 있어서 타입 불일치나 파싱 오류를 방지할 수 있다.\\n✔ 언어와 플랫폼이 독립적이어서 다양한 언어/플랫폼에서 동일한 proto 파일을 이용해서 구현이 가능하다.\"]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"-reference\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#-reference\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"📚 Reference\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://cla9.tistory.com/175\",\n          children: \"1. gRPC 개요\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://medium.com/@josemiguelmelo/the-basics-of-grpc-b017bbedb303\",\n          children: \"The basics of gRPC\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://blog.postman.com/what-is-grpc/\",\n          children: \"What is gRPC?\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://www.freecodecamp.org/news/what-is-grpc-protocol-buffers-stream-architecture/\",\n          children: \"What is gRPC? Protocol Buffers, Streaming, and Architecture Explained\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{"title":"gRPC 를 도입하는 이유에 대해서 알아보자. (feat. Http 1.0 vs Http 1.1 vs Http 2.0)","date":"2024-10-15","updated":"2025-06-30","tags":["gRPC","Study"],"summary":"Let's find out the issues with HTTP 1.0, HTTP 1.1, and the benefits of gRPC being introduced into the MSA structure.","description":"HTTP 1.0, HTTP 1.1 의 문제와 gRPC 가 MSA 구조에 도입되면 어떤 이점이 있는지 알아보자."}},"title":"gRPC 를 도입하는 이유에 대해서 알아보자. (feat. Http 1.0 vs Http 1.1 vs Http 2.0)","date":"2024-10-15","updated":"2025-06-30","tags":["gRPC","Study"],"summary":"Let's find out the issues with HTTP 1.0, HTTP 1.1, and the benefits of gRPC being introduced into the MSA structure.","description":"HTTP 1.0, HTTP 1.1 의 문제와 gRPC 가 MSA 구조에 도입되면 어떤 이점이 있는지 알아보자."},"relatedPosts":[{"id":"in-memory","title":"In Memory Database vs In Memory Data Grid","date":"2020-05-23","tags":["Etc","Study"],"summary":"Comparison of In Memory Database and In Memory Data Grid","description":"In Memory Database와 In Memory Data Grid에 대해서 알아보자."},{"id":"virtualbox-centos-disk","title":"Virtualbox CentOS Disk 용량 늘리기","date":"2020-05-22","tags":["Etc","Study"],"summary":"Correcting the Insufficient Capacity of CentOS Disks in Virtual Box","description":"Virtualbox에서 CentOS 용량이 부족한 경우 해결하기"},{"id":"9-Rules-of-Object-Oriented-Programming","title":"객체 지향 9가지 규칙","date":"2020-02-10","tags":["Clean Code","Study"],"updated":"2025-08-18","summary":"The nine rules of Object Calisthenics explained with Java examples to improve code readability and maintainability.","description":"소트웍스 앤솔러지(Object Calisthenics)에서 제안한 객체 지향 생활 체조 9가지 규칙과 Java 예시를 통해 코드의 가독성과 유지보수성을 높이는 방법을 살펴보자."}]},"__N_SSG":true},"page":"/post/[id]","query":{"id":"why-using-grpc"},"buildId":"mI_bHKbjoCUTCzOTBZh6S","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>