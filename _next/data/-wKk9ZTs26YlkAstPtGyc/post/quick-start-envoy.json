{"pageProps":{"postData":{"id":"quick-start-envoy","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    info: \"info\",\n    p: \"p\",\n    h3: \"h3\",\n    a: \"a\",\n    span: \"span\",\n    ul: \"ul\",\n    li: \"li\",\n    success: \"success\",\n    pre: \"pre\",\n    code: \"code\",\n    note: \"note\",\n    ol: \"ol\",\n    warning: \"warning\",\n    hr: \"hr\"\n  }, _provideComponents(), props.components), {Tabs, Tab, GreenText, BlueText} = _components;\n  if (!BlueText) _missingMdxReference(\"BlueText\", true);\n  if (!GreenText) _missingMdxReference(\"GreenText\", true);\n  if (!Tab) _missingMdxReference(\"Tab\", true);\n  if (!Tabs) _missingMdxReference(\"Tabs\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.info, {\n      children: _jsx(_components.p, {\n        children: \"envoy ëŠ” service-mesh ë¥¼ êµ¬ì„±í•  ë•Œ í•µì‹¬ì ì¸ ì—­í• ì„ ë‹´ë‹¹í•˜ëŠ” í”„ë¡ì‹œì´ë‹¤.\\ndownstream/upstream ê°œë…ì„ ê¸°ë°˜ìœ¼ë¡œ Listener, Route, Cluster, Endpoint ë¥¼ í†µí•´ íŠ¸ë˜í”½ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì œì–´í•œë‹¤.\\nenvoy ì˜ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ì™€ íŠ¸ë˜í”½ ì²˜ë¦¬ íë¦„(Listener -> filter chain -> Router Filter -> Cluster),\\në¡œë“œë°¸ëŸ°ì‹± ë° Connection ê´€ë¦¬, xDS ë¥¼ í†µí•œ ë™ì  ì„¤ì • ë°©ì‹ê¹Œì§€ ë¹ ë¥´ê²Œ ì´í•´í•´ë³´ì.\"\n      })\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"envoy-ì»´í¬ë„ŒíŠ¸-êµ¬ì¡°\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#envoy-ì»´í¬ë„ŒíŠ¸-êµ¬ì¡°\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Envoy ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°\"]\n    }), \"\\n\", _jsxs(Tabs, {\n      children: [_jsxs(Tab, {\n        label: \"Basic\",\n        children: [_jsx(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: _jsx(\"img\", {\n            src: \"/img/post/envoy/envoy.png\",\n            alt: \"envoy\",\n            style: {\n              display: 'inline-block'\n            }\n          })\n        }), _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"\\n\", _jsx(\"b\", {\n              children: \"Downstream\"\n            }), \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"Envoy ì—ê²Œ ìš”ì²­ì„ ë³´ë‚´ëŠ” í˜¸ìŠ¤íŠ¸\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"\\n\", _jsx(\"b\", {\n              children: \"Upstream\"\n            }), \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"Envoy ê°€ ìš”ì²­ì„ ë³´ë‚´ëŠ” í˜¸ìŠ¤íŠ¸\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"\\n\", _jsx(\"b\", {\n              children: \"Listener\"\n            }), \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"ì–´ë–¤ IP, Port ë¥¼ ì²˜ë¦¬ í•  ì§€ ì •ì˜í•œë‹¤. (=downstream ìœ¼ë¡œë¶€í„° ìš”ì²­ì„ ë°›ëŠ” ë¶€ë¶„)\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"\\n\", _jsx(\"b\", {\n              children: \"Route\"\n            }), \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"Listener ë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ì„ ì–´ë””ë¡œ ë³´ë‚¼ì§€ ì •ì˜í•œë‹¤ (routing ëŒ€ìƒì€ Cluster)\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"\\n\", _jsx(\"b\", {\n              children: \"Cluster\"\n            }), \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"ì‹¤ì œ ìš”ì²­ì´ ì²˜ë¦¬ë˜ëŠ” IP ë˜ëŠ” Endpoint ë“¤ì´ë‹¤. (=upstream ë“¤)\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"\\n\", _jsx(\"b\", {\n              children: \"Endpoint\"\n            }), \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"ì‹¤ì œë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œ Endpoint (ì—¬ëŸ¬ endpoint ê°€ ëª¨ì—¬ì„œ cluster ê°€ ëœë‹¤)\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\"]\n        })]\n      }), _jsxs(Tab, {\n        label: \"Listener\",\n        children: [_jsx(_components.success, {\n          children: _jsx(_components.p, {\n            children: \"Listener ëŠ”? ì–´ë–¤ IP, Port ë¥¼ ì²˜ë¦¬ í•  ì§€ ì •ì˜í•œë‹¤. (=downstream ìœ¼ë¡œ ë¶€í„° ìš”ì²­ ë°›ì€ ë¶€ë¶„)\"\n          })\n        }), _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"Listener ë¥¼ í†µí•´ì„œ íŠ¸ë˜í”½ì´ ì „ë‹¬ë˜ë©´, Cluster ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œ ì—¬ëŸ¬ ê³¼ì •ì„ ê±°ì¹˜ê²Œ ëœë‹¤.\"\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Listener ëŠ” Listener Filters ì™€ Filter Chains \", _jsx(GreenText, {\n              children: \"(Network Filter)\"\n            }), \" ë¥¼ ì§€ë‹ˆê³  ìˆë‹¤.\"]\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"Listener filters = Connection ì— ëŒ€í•œ Metadata ë¥¼ ì¡°ì‘í•˜ê±°ë‚˜ ì¶”ê°€í•˜ëŠ”ë° ì‚¬ìš©ëœë‹¤.\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"Filters Chains = ì´ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¤ì œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ì´ë‹¤.\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"Filters Chains ì´ L3/L4 Filter ê¸°ëŠ¥ì„ ë‹´ë‹¹í•œë‹¤.\"\n          }), \"\\n\"]\n        }), _jsx(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: _jsx(\"img\", {\n            src: \"/img/post/envoy/listener.png\",\n            alt: \"listener\",\n            style: {\n              display: 'inline-block'\n            }\n          })\n        })]\n      }), _jsx(Tab, {\n        label: \"HTTP Connection manager\",\n        children: _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"HTTP ë¥¼ ë‹´ë‹¹í•˜ëŠ” Network Level ì˜ Filter ë¡œ Filter Chain ì˜ ê°€ì¥ ë§ˆì§€ë§‰ì— ìœ„ì¹˜í•œë‹¤.\"\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"ì£¼ìš” ê¸°ëŠ¥ì€ raw byte ë¥¼ HTTP ë©”ì‹œì§€ë¡œ Convert ë¥¼ ë‹´ë‹¹í•˜ê³ ,\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"HTTP Header ì¡°ì‘, Retry ì„¤ì •, Redirect, Timeout\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"ë‚´ë¶€ì ìœ¼ë¡œ HTTP L7 Filter ë“¤ì´ ì¡´ì¬í•˜ì—¬ ë¶€ê°€ì ì¸ ì‘ì—…ì„ ìˆ˜í–‰í•œë‹¤.\"\n          }), \"\\n\"]\n        })\n      }), _jsxs(Tab, {\n        label: \"Cluster\",\n        children: [_jsx(_components.success, {\n          children: _jsx(_components.p, {\n            children: \"Cluster ëŠ”? ì‹¤ì œ ìš”ì²­ì´ ì²˜ë¦¬ë˜ëŠ” IP ë˜ëŠ” Endpoint ë“¤ì´ë‹¤. (=upstream ë“¤)\\nEndpoint ëŠ”? ì‹¤ì œë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œ Endpoint\"\n          })\n        }), _jsx(BlueText, {\n          children: \"Cluster - Load Balancing\"\n        }), _jsx(\"br\", {}), _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"Cluster ì»´í¬ë„ŒíŠ¸ë¥¼ í†µí•´ì„œ Endpoint ë¥¼ ê·¸ë£¹í•‘í•´ì„œ ê´€ë¦¬í•  ìˆ˜ ìˆê³ ,\"\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Endpoint ì¤‘ì—ì„œ ì–´ë””ë¡œ íŠ¸ë˜í”½ì„ ë³´ë‚¼ì§€ ê²°ì •í•˜ëŠ” \", _jsx(\"b\", {\n              children: \"Load Balancing\"\n            }), \" ì„ ê²°ì •í•  ìˆ˜ ìˆë‹¤.\"]\n          }), \"\\n\"]\n        }), _jsx(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: _jsx(\"img\", {\n            src: \"/img/post/envoy/cluster.png\",\n            alt: \"cluster\",\n            style: {\n              display: 'inline-block'\n            }\n          })\n        }), _jsx(_components.pre, {\n          className: \"language-yaml\",\n          children: _jsxs(_components.code, {\n            className: \"language-yaml code-highlight\",\n            children: [_jsxs(_components.span, {\n              className: \"code-line\",\n              children: [_jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"clusters\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"-\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"name\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" some_service\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"  \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"connection_timeout\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" 0.25s\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"  \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"type\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" STATIC\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"  \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"lb_policy\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" ROUND_ROBIN\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"  \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"load_assignment\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"    \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"cluster_name\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" some_service\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"    \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"endpoints\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"    \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"-\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"lb_endpoints\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"      \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"-\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"endpoint\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"        \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"address\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"          \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"socket_address\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"            \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"address\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" 127.0.0.1\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"            \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"port_value\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token number\",\n                children: \"1234\"\n              }), \"\\n\"]\n            })]\n          })\n        }), _jsxs(_components.note, {\n          children: [_jsx(\"b\", {\n            children: \"Service Discovery Type\"\n          }), _jsxs(_components.ul, {\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"upstream cluster ê°€ ì •ì˜ ë˜ë©´ Envoy ê°€ Cluster êµ¬ì„±ì›ì„ í™•ì¸í•˜ëŠ” ë°©ë²•\"\n            }), \"\\n\"]\n          }), _jsxs(_components.ol, {\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"STATIC\"\n            }), \"\\n\"]\n          }), _jsxs(_components.ul, {\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"ê°€ì¥ ê°„ë‹¨í•œ ìœ í˜• (ê¸°ë³¸ê°’)\"\n            }), \"\\n\"]\n          }), _jsxs(_components.ol, {\n            start: \"2\",\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"STRICT_DNS\"\n            }), \"\\n\"]\n          }), _jsxs(_components.ul, {\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"DNS ì¿¼ë¦¬ ê²°ê³¼ë¥¼ ì—„ê²©í•˜ê²Œ ì·¨í•˜ì—¬ ì „ì²´ upstream cluster ë¥¼ êµ¬ì„±\"\n            }), \"\\n\"]\n          }), _jsxs(_components.ol, {\n            start: \"3\",\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"LOGICAL_DNS\"\n            }), \"\\n\"]\n          }), _jsxs(_components.ul, {\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"ë¹„ë™ê¸° í™•ì¸ ë©”ì»¤ë‹ˆì¦˜ì´ë‚˜, ì²«ë²ˆì§¸ IP ì£¼ì†Œë§Œ ì‚¬ìš©\"\n            }), \"\\n\"]\n          }), _jsxs(_components.ol, {\n            start: \"4\",\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"EDS\"\n            }), \"\\n\"]\n          }), _jsxs(_components.ul, {\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"xDS ê´€ë¦¬ ì„œë²„ì—ì„œ ê°€ì ¸ì˜¨ë‹¤.\"\n            }), \"\\n\"]\n          }), _jsxs(_components.ol, {\n            start: \"5\",\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"ORIGINAL_DST\"\n            }), \"\\n\"]\n          }), _jsxs(_components.ul, {\n            children: [\"\\n\", _jsx(_components.li, {\n              children: \"ì›ë˜ ëª©ì ì§€\"\n            }), \"\\n\"]\n          })]\n        }), _jsx(BlueText, {\n          children: \"Cluster - Connection Pool\"\n        }), _jsx(\"br\", {}), _jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"Cluster ëŠ” Connection Pool ê´€ë¦¬ ê¸°ëŠ¥ë„ ìˆ˜í–‰í•œë‹¤.\"\n          }), \"\\n\"]\n        }), _jsx(_components.warning, {\n          children: _jsxs(_components.p, {\n            children: [_jsx(\"b\", {\n              children: \"common_http_protocol_option\"\n            }), \"ì˜ idle_timeout ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ 1ì‹œê°„ì´ë‹¤.\\nìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ, application ì—ì„œ ë¨¼ì € ì—°ê²°ì„ ëŠì„ ê²½ìš°,\\nupstream connect error or disconnect/reset before headers. reset reason: connection termination ì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\"]\n          })\n        }), _jsx(_components.pre, {\n          className: \"language-yaml\",\n          children: _jsxs(_components.code, {\n            className: \"language-yaml code-highlight\",\n            children: [_jsxs(_components.span, {\n              className: \"code-line\",\n              children: [_jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"\\\"connect_timeout\\\"\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token string\",\n                children: \"\\\"5s\\\"\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token comment\",\n                children: \"### Tomcat / Netty connection timeout ë³´ë‹¤ ì‘ê²Œ ì„¤ì •í•œë‹¤. (ê¸°ë³¸ ê°’ 5ì´ˆ)\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [_jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"\\\"typed_extension_protocol_options\\\"\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"    \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"\\\"envoy.extension_protocol_options\\\"\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"        \\\"@type\\\"\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), _jsx(_components.span, {\n                className: \"token string\",\n                children: \"\\\"type.googleapis.com/envoy.extensions.upostreams.http.v3.HttpProtocolOptions\\\"\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"        \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"\\\"common_http_protocol_options\\\"\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"            \\\"idle_timeout\\\"\", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), _jsx(_components.span, {\n                className: \"token string\",\n                children: \"\\\"60s\\\"\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"            \", _jsx(_components.span, {\n                className: \"token comment\",\n                children: \"### Tomcat / Netty idle timeout ì„¤ì •ë³´ë‹¤ ì‘ê²Œ ì„¤ì •í•œë‹¤.\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"            \", _jsx(_components.span, {\n                className: \"token comment\",\n                children: \"### ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ê°’ì€ 1ì‹œê°„ì´ê³ ,\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"            \", _jsx(_components.span, {\n                className: \"token comment\",\n                children: \"### 0 ìœ¼ë¡œ ë¹„í™œì„±í™”ê°€ ê°€ëŠ¥í•˜ì§€ë§Œ, TCP FIN íŒ¨í‚· ì†ì‹¤ë“±ìœ¼ë¡œ ì¸í•œ ì—°ê²° ëˆ„ì¶œì´ ë°œìƒí•  ìˆ˜ ìˆë‹¤.\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"        \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \",\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"        \", _jsx(_components.span, {\n                className: \"token key atrule\",\n                children: \"\\\"explicit_http_config\\\"\"\n              }), _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \":\"\n              }), \" \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"{\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"            \", _jsx(_components.span, {\n                className: \"token comment\",\n                children: \"### ì—¬ê¸°ì„œ http_protocol_options ë‚˜ http2_protocol_options ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"        \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [\"    \", _jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              }), \"\\n\"]\n            }), _jsxs(_components.span, {\n              className: \"code-line\",\n              children: [_jsx(_components.span, {\n                className: \"token punctuation\",\n                children: \"}\"\n              }), \"\\n\"]\n            })]\n          })\n        })]\n      }), _jsxs(Tab, {\n        label: \"Flow\",\n        children: [_jsx(_components.success, {\n          children: _jsx(_components.p, {\n            children: \"Downstream ì€? Envoy ì—ê²Œ ìš”ì²­ì„ ë³´ë‚´ëŠ” í˜¸ìŠ¤íŠ¸\\nUpstream ì€? Envoy ê°€ ìš”ì²­ì„ ë³´ë‚´ëŠ” í˜¸ìŠ¤íŠ¸\\nListener ëŠ”? ì–´ë–¤ IP, Port ë¥¼ ì²˜ë¦¬ í•  ì§€ ì •ì˜í•œë‹¤. (=downstream ìœ¼ë¡œ ë¶€í„° ìš”ì²­ ë°›ì€ ë¶€ë¶„)\\nRoute ëŠ”? Listener ë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ì„ ì–´ë””ë¡œ ë³´ë‚¼ì§€ ì •ì˜í•œë‹¤ (routing ëŒ€ìƒì€ Cluster)\\nCluster ëŠ”? ì‹¤ì œ ìš”ì²­ì´ ì²˜ë¦¬ë˜ëŠ” IP ë˜ëŠ” Endpoint ë“¤ì´ë‹¤. (=upstream ë“¤)\\nEndpoint ëŠ”? ì‹¤ì œë¡œ ì ‘ê·¼ ê°€ëŠ¥í•œ Endpoint (ì—¬ëŸ¬ endpoint ê°€ ëª¨ì—¬ì„œ cluster ê°€ ëœë‹¤)\"\n          })\n        }), _jsx(_components.p, {\n          children: \"HTTP ìš”ì²­ì— ëŒ€í•œ ë‚´ë¶€ íë¦„ì€, ì•„ë˜ì™€ ê°™ë‹¤ê³  ìƒê°í•˜ë©´ ëœë‹¤.\"\n        }), _jsx(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: _jsx(\"img\", {\n            src: \"/img/post/envoy/flow.png\",\n            alt: \"flow\",\n            style: {\n              display: 'inline-block'\n            }\n          })\n        }), _jsxs(_components.ul, {\n          children: [\"\\n\", _jsxs(_components.li, {\n            children: [\"ë‹¤ë¥¸ ë…¸ë“œë‚˜ Client ì—ì„œ \", _jsx(BlueText, {\n              children: \"(Downstream)\"\n            }), \" Envoy ì—ê²Œ ìš”ì²­ì„ ë³´ë‚´ê³ ,\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Envoy Listener ê°€ ìš”ì²­ì„ ë°›ì•„ì„œ \", _jsx(BlueText, {\n              children: \"(Downstream ìœ¼ë¡œ ë¶€í„° ìš”ì²­ì„ ë°›ìŒ)\"\n            })]\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"Listener ë‚´ë¶€ì ìœ¼ë¡œ Listener Filtersë¡œ ì „ë‹¬í•˜ê³ , Filter Chainsë¥¼ ìˆœíšŒí•˜ë©´ì„œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ”ë° ì í•©í•œ Filterë¥¼ ì°¾ê³  í•´ë‹¹ Filter ê°€ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.\"\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Router Filter ëŠ” ìš”ì²­ì— ì í•©í•œ Cluster ë¥¼ ì°¾ì•„ì„œ í•´ë‹¹ Cluster \", _jsx(BlueText, {\n              children: \"(Upstream í˜¸ìŠ¤íŠ¸ ì§‘ë‹¨)\"\n            }), \" ì—ê²Œ íŠ¸ë˜í”½ì„ Forwarding í•œë‹¤.\"]\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Cluster ëŠ” ë‚´ë¶€ì— ì„¤ì •ëœ ë¡œë“œë°¸ë¦°ì‹± ì •ì±…ì„ ê³ ë ¤í•´ì„œ ì í•©í•œ Endpoint ë¥¼ ì„ ì •í•˜ê³ , ë§¤ì¹­ëœ ê³³ìœ¼ë¡œ íŠ¸ë˜í”½ì„ ì „ë‹¬í•œë‹¤. \", _jsx(BlueText, {\n              children: \"(To Upstream)\"\n            })]\n          }), \"\\n\"]\n        })]\n      }), _jsxs(Tab, {\n        label: \"xDS\",\n        children: [_jsxs(_components.ul, {\n          children: [\"\\n\", _jsx(_components.li, {\n            children: \"Envoy ì»´í¬ë„ŒíŠ¸(Listener, Cluster, Filter...) ë“¤ì„ ë“±ë¡í•˜ëŠ” ë°©ì‹ì—ëŠ” Static, Dynamic ì´ ìˆë‹¤.\"\n          }), \"\\n\", _jsx(_components.li, {\n            children: \"Static ì€ Envoy ê¸°ë™ ì‹œì ì— config íŒŒì¼ ì •ë³´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë“±ë¡í•˜ëŠ” ë°©ì‹\"\n          }), \"\\n\", _jsxs(_components.li, {\n            children: [\"Dynamic ì€ Envoy ê°€ ê¸°ë™ ì¤‘ì¸ ìƒíƒœë¡œ config ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ë°©ì‹\", \"\\n\", _jsxs(_components.ul, {\n              children: [\"\\n\", _jsx(_components.li, {\n                children: \"ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸ ì„¤ì •ì„ ë³€ê²½í•  ìˆ˜ ìˆë„ë¡ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•´ì£¼ëŠ”ë°, ê·¸ê²Œ xDS API ì´ë‹¤.\"\n              }), \"\\n\"]\n            }), \"\\n\"]\n          }), \"\\n\"]\n        }), _jsx(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: _jsx(\"img\", {\n            src: \"/img/post/envoy/xds.png\",\n            alt: \"xds\",\n            style: {\n              display: 'inline-block'\n            }\n          })\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"-reference\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#-reference\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"ğŸ“š Reference\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://cla9.tistory.com/191\",\n          children: \"Envoy-internals ì•„í‚¤í…ì³ Overview by ë¶ê·¹ í­ê·„\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsx(\"br\", {})]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{"title":"ë¹ ë¥´ê²Œ ì´í•´í•˜ëŠ” Envoy ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°","date":"2025-10-21","tags":["Envoy"],"summary":"A quick and practical overview of Envoy's core architecture.","description":"Envoy ì˜ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ì™€ íŠ¸ë˜í”½ ì²˜ë¦¬ íë¦„, ë¡œë“œë°¸ëŸ°ì‹±, Connection ê´€ë¦¬, xDS ì— ëŒ€í•´ì„œ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ì."}},"title":"ë¹ ë¥´ê²Œ ì´í•´í•˜ëŠ” Envoy ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°","date":"2025-10-21","tags":["Envoy"],"summary":"A quick and practical overview of Envoy's core architecture.","description":"Envoy ì˜ ì£¼ìš” ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°ì™€ íŠ¸ë˜í”½ ì²˜ë¦¬ íë¦„, ë¡œë“œë°¸ëŸ°ì‹±, Connection ê´€ë¦¬, xDS ì— ëŒ€í•´ì„œ ë¹ ë¥´ê²Œ ì•Œì•„ë³´ì."},"relatedPosts":[]},"__N_SSG":true}