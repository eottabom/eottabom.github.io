{"pageProps":{"postData":{"id":"k6-stack","mdxSource":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    info: \"info\",\n    p: \"p\",\n    strong: \"strong\",\n    h2: \"h2\",\n    a: \"a\",\n    span: \"span\",\n    hr: \"hr\",\n    ul: \"ul\",\n    li: \"li\",\n    pre: \"pre\",\n    code: \"code\",\n    ol: \"ol\",\n    table: \"table\",\n    thead: \"thead\",\n    tr: \"tr\",\n    th: \"th\",\n    tbody: \"tbody\",\n    td: \"td\",\n    note: \"note\",\n    h3: \"h3\"\n  }, _provideComponents(), props.components), {BlueText} = _components;\n  if (!BlueText) _missingMdxReference(\"BlueText\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsxs(_components.info, {\n      children: [_jsx(_components.p, {\n        children: \"부하 테스트는 중요하다는 것을 알면서도, 바쁜 일정과 우선순위에 밀려 쉽게 미뤄지곤 한다.\\n게다가 과거 테스트 결과가 문서나 이미지로 분산되어 관리되다 보니, 이전 결과와 현재 상태를 객관적으로 비교하기도 쉽지 않다.\\n이런 환경에서는 성능 개선 효과를 명확히 검증하기 어렵고, 경험이나 감각에 의존한 판단이 늘어날 수밖에 없다.\\n그래서 부하 테스트는 한 번의 실행이 아니라, 반복 가능하고 누적 가능한 환경으로 관리되어야 한다.\\n초기 구축에는 약간의 비용이 들지만, 한 번 만들어두면 테스트 실행과 결과 확인이 훨씬 쉬워진다.\"\n      }), _jsxs(_components.p, {\n        children: [\"이 글의 목표는 간단히 k6에 대해서 알아보고, k6 + InfluxDB + Grafana 를 Docker 로 구성해,\\n테스트 실행 → 메트릭 저장 → 대시보드 시각화까지 \", _jsx(_components.strong, {\n          children: \"재현 가능한 부하 테스트 스택\"\n        }), \"을 빠르게 준비하는 것이다.\"]\n      })]\n    }), \"\\n\", _jsxs(_components.h2, {\n      id: \"q-k6-는-무엇인가요\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#q-k6-는-무엇인가요\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Q. k6 는 무엇인가요?\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(BlueText, {\n        children: _jsx(\"span\", {\n          style: {\n            fontSize: '1.5rem'\n          },\n          children: \"A. \"\n        })\n      }), \"\\n\", _jsx(_components.a, {\n        href: \"https://k6.io/\",\n        children: \"k6\"\n      }), \"는 Grafana Labs에서 개발한 오픈소스 부하 테스트 도구로, 개발자 친화적이고 확장 가능한 성능 테스트 도구이다.\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"q-다른-테스트-도구들이-많은데-왜-k6-를-이용하나요\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#q-다른-테스트-도구들이-많은데-왜-k6-를-이용하나요\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Q. 다른 테스트 도구들이 많은데 왜 k6 를 이용하나요?\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(BlueText, {\n        children: _jsx(\"span\", {\n          style: {\n            fontSize: '1.5rem'\n          },\n          children: \"A. \"\n        })\n      }), \"\\n사실 nGrinder, Locust, Gatling 등 다양한 도구들이 많이 있다.\\n각각 장점이 분명하겠지만, 무엇보다 빠르게 환경을 구성하고, 반복 가능한 테스트를 운영한다는 관점에서 보면 k6 는 몇 가지 장점을 보인다.\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"1) 설치와 실행이 단순하다.\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"바이너리 하나 또는 docker 이미지로 바로 실행 할 수 있어서 별도의 에이전트 구성이나 복잡한 서버 세팅이 필요 없다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"2) 다양한 프로토콜을 폭넓게 지원한다.\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"HTTP 뿐만 아니라, WebSocket, gRPC, GraphQL 기반 트래픽 생성도 가능하여, 단순 REST API 를 넘어 실서비스와 유사한 시나리오를 구성할 수 있다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"3) 테스트 결과를 옵저버빌리티 관점에서 리포팅 할 수 있다.\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"테스트 결과를 InfluxDB, Prometheus, Cloud 등 외부 스토리지로 전송 할 수 있으며, Grafana 와 연동하여 지표를 시각화 할 수 있다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"4) k6 Operator 를 활용하면 k8s 클러스터 내부에서도 부하 테스트를 실행 할 수 있다.\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"실제 운영 환경과 유사한 네트워크 토폴로지에서 트래픽을 생성하거나, 클러스터 단위 성능 검증도 가능하다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.p, {\n      children: _jsx(_components.strong, {\n        children: \"5) 시나리오 기반 부하 테스트가 가능하다.\"\n      })\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"ramp-up, spike, soak, mixed workload 등 다양한 부하 패턴을 하나의 테스트 안에서 정의 가능하다.\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"시간에 따른 사용자 증가, 트래픽 증가, 장시간 안정성 검증, API 조합 시나리오 등 실제 서비스 사용 패턴 시나리오가 가능하다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"project-structure\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#project-structure\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Project Structure\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsxs(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: [_jsx(_components.span, {\n          className: \"code-line\",\n          children: \"k6-stack/\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"├── docker-compose.yml         \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# Docker 서비스 정의\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"├── grafana/\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"│   ├── dashboards/\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"│   │   └── k6.json            \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# k6 대시보드 (자동 다운로드)\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"│   └── provisioning/\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"│       ├── dashboards/\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"│       │   └── dashboards.yml \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# 대시보드 프로비저닝 자동화\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"│       └── datasources/\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"│           └── datasource.yml \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# Grafana - InfluxDB 연결 설정 자동화\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"├── influxdb/\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"│   └── init/\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"│       └── init.influxql      \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# 7일 보존 정책 설정\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"└── scripts/                   \", _jsx(_components.span, {\n            className: \"token comment\",\n            children: \"# k6 테스트 스크립트\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    ├── \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"..\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"..\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"stack-flow\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#stack-flow\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Stack Flow\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/load-test/k6-stack/stack-flow.png\",\n        alt: \"stack-flow\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"InfluxDB 생성\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"(Optional) InfluxDB Retention Policy 세팅\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Grafana 데이터소스 자동 연결\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"Grafana 대시보드 자동 다운로드\"\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"데이터 소스 UID/Name 을 InfluxDB 로 치환 (\", _jsx(_components.code, {\n          children: \"${DS_DUMMY}\"\n        }), \" 와 같은 변수, Dashboard 마다 다르므로 유의!)\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.table, {\n      children: [_jsx(_components.thead, {\n        children: _jsxs(_components.tr, {\n          children: [_jsx(_components.th, {\n            children: \"컴포넌트\"\n          }), _jsx(_components.th, {\n            children: \"역할\"\n          })]\n        })\n      }), _jsxs(_components.tbody, {\n        children: [_jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"influxdb\"\n          }), _jsx(_components.td, {\n            children: \"k6 메트릭 저장소\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"influxdb-int\"\n          }), _jsx(_components.td, {\n            children: \"DB / Retention Policy 전용 컨테이너\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"grafana\"\n          }), _jsx(_components.td, {\n            children: \"대시보드 UI\"\n          })]\n        }), _jsxs(_components.tr, {\n          children: [_jsx(_components.td, {\n            children: \"dashboard-downloader\"\n          }), _jsx(_components.td, {\n            children: \"대시보드 자동 다운로드\"\n          })]\n        })]\n      })]\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsxs(_components.p, {\n        children: [_jsx(\"a\", {\n          href: \"https://grafana.com/grafana/dashboards/14801-k6-dashboard/\",\n          children: \" K6 Dashboard \"\n        }), \" 를 사용했지만, 적절한 대시보드로 대체하면 된다.\"]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"detail\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#detail\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Detail\"]\n    }), \"\\n\", _jsxs(_components.h3, {\n      id: \"1-docker-composeyml\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#1-docker-composeyml\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"1. docker-compose.yml\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-yaml\",\n      children: _jsxs(_components.code, {\n        className: \"language-yaml code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"services\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"influxdb\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"image\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" influxdb\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1.8\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"container_name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" influxdb\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"ports\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"8086:8086\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"environment\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"INFLUXDB_HTTP_AUTH_ENABLED\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"false\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"INFLUXDB_DB\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"k6\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"volumes\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" influxdb\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"data\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"/var/lib/influxdb\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"networks\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"k6net\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"influxdb-init\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"image\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" curlimages/curl\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"8.5.0\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"container_name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" influxdb\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"init\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"depends_on\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" influxdb\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"networks\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"k6net\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"volumes\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" ./influxdb/init\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"/scripts\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"command\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" /bin/sh\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"c\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"|\"\n          }), _jsx(_components.span, {\n            className: \"token scalar string\",\n            children: \"\\n\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: _jsx(_components.span, {\n            className: \"token scalar string\",\n            children: \"        until curl -sf http://influxdb:8086/ping >/dev/null; do\\n\"\n          })\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: _jsx(_components.span, {\n            className: \"token scalar string\",\n            children: \"          sleep 1\\n\"\n          })\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token scalar string\",\n            children: \"        done\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"        grep \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"v '^\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"' /scripts/init.influxql \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"|\"\n          }), \" grep \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"v '^$$' \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"|\"\n          }), \" while read \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"r q; do\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"          curl \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"sG http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"//influxdb\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"8086/query \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"data\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"urlencode \\\"q=$$q\\\" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \">\"\n          }), \"/dev/null\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"        done\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"grafana\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"image\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" grafana/grafana\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"10.4.3\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"container_name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" grafana\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"depends_on\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" influxdb\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"ports\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"3000:3000\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"environment\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"GF_SECURITY_ADMIN_USER\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" admin\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"GF_SECURITY_ADMIN_PASSWORD\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" admin\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"GF_USERS_ALLOW_SIGN_UP\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"false\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"volumes\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" grafana\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"data\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"/var/lib/grafana\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" ./grafana/provisioning\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"/etc/grafana/provisioning\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" ./grafana/dashboards\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"/var/lib/grafana/dashboards\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"networks\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"k6net\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"dashboard-downloader\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"image\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" curlimages/curl\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"8.5.0\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"container_name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" dashboard\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"downloader\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"depends_on\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" grafana\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"networks\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"k6net\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"volumes\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" ./grafana/dashboards\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"/var/lib/grafana/dashboards\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"command\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" /bin/sh\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"c\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"|\"\n          }), _jsx(_components.span, {\n            className: \"token scalar string\",\n            children: \"\\n\"\n          })]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: _jsx(_components.span, {\n            className: \"token scalar string\",\n            children: \"        mkdir -p /var/lib/grafana/dashboards\\n\"\n          })\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token scalar string\",\n            children: \"        echo \\\"download k6 dashboard json...\\\"\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"        curl \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"fsSL \\\"https\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"//grafana.com/api/dashboards/14801/revisions/2/download\\\" \\\\\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"          \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"o /tmp/k6\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"raw.json \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"|\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"|\"\n          }), \" exit 1\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"        echo \\\"replacing datasource name\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"...\"\n          }), \"\\\"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"        sed \\\"s/\\\\$$\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"{\"\n          }), \"DS_DUMMY\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"}\"\n          }), \"/InfluxDB/g\\\" /tmp/k6\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \"raw.json \\\\\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"          \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \">\"\n          }), \" /var/lib/grafana/dashboards/k6.json\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"        echo \\\"done\\\"\\n\"\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"k6\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"image\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" grafana/k6\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"0.49.0\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"container_name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" k6\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"depends_on\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" influxdb\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"networks\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), \"k6net\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"volumes\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" ./scripts\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"/scripts\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"environment\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"K6_OUT\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" influxdb=http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"//influxdb\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"8086/k6\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"entrypoint\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"[\"\n          }), _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"k6\\\"\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"]\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"networks\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"k6net\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"volumes\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"influxdb-data\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"grafana-data\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"2-datasourceyml\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#2-datasourceyml\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"2. datasource.yml\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-yaml\",\n      children: _jsxs(_components.code, {\n        className: \"language-yaml code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"apiVersion\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"datasources\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" InfluxDB\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"type\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" influxdb\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"access\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" proxy\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"url\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" http\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"//influxdb\", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), _jsx(_components.span, {\n            className: \"token number\",\n            children: \"8086\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"database\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" k6\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"isDefault\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean important\",\n            children: \"true\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"editable\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean important\",\n            children: \"false\"\n          }), \"\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"3-dashboardsyml\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#3-dashboardsyml\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"3. dashboards.yml\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-yaml\",\n      children: _jsxs(_components.code, {\n        className: \"language-yaml code-highlight\",\n        children: [_jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"apiVersion\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), \"\\n\"]\n        }), _jsx(_components.span, {\n          className: \"code-line\",\n          children: \"\\n\"\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"providers\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"  \", _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \"-\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"name\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"k6\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"orgId\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token number\",\n            children: \"1\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"folder\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token string\",\n            children: \"\\\"k6\\\"\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"type\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" file\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"disableDeletion\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean important\",\n            children: \"true\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"editable\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" \", _jsx(_components.span, {\n            className: \"token boolean important\",\n            children: \"true\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"    \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"options\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \"\\n\"]\n        }), _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [\"      \", _jsx(_components.span, {\n            className: \"token key atrule\",\n            children: \"path\"\n          }), _jsx(_components.span, {\n            className: \"token punctuation\",\n            children: \":\"\n          }), \" /var/lib/grafana/dashboards\\n\"]\n        })]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"execute\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#execute\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Execute\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token function\",\n            children: \"docker\"\n          }), \" compose up \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"-d\"\n          }), \"\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"dashboards\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#dashboards\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Dashboards\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"자동 설정된 대시보드를 확인할 수 있다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/load-test/k6-stack/k6-dashboard.png\",\n        alt: \"dashboard\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"datasource\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#datasource\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Datasource\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"자동 설정된 데이터 소스를 확일 할 수 있다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/load-test/k6-stack/datasource.png\",\n        alt: \"datasource\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"test\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#test\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Test\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"k6 를 실행할 때 docker 로 실행했지만, cli 로 실행도 가능하다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      className: \"language-shell\",\n      children: _jsx(_components.code, {\n        className: \"language-shell code-highlight\",\n        children: _jsxs(_components.span, {\n          className: \"code-line\",\n          children: [_jsx(_components.span, {\n            className: \"token function\",\n            children: \"docker-compose\"\n          }), \" run \", _jsx(_components.span, {\n            className: \"token parameter variable\",\n            children: \"--rm\"\n          }), \" k6 run /scripts/01-basic.js\\n\"]\n        })\n      })\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsx(_components.p, {\n        children: \"k6 operator 를 이용하게 된다면, k8s 클러스터 안에서 테스트가 가능하다.\"\n      })\n    }), \"\\n\", _jsx(\"br\", {}), \"\\n\", _jsxs(_components.h3, {\n      id: \"result\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#result\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"Result\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"다양한 지표를 실시간으로 확인 할 수 있다.\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: _jsx(\"img\", {\n        src: \"/img/post/load-test/k6-stack/result.png\",\n        alt: \"result\",\n        style: {\n          display: 'inline-block'\n        }\n      })\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsx(_components.p, {\n        children: \"k6 를 실행하면 콘솔에서 로그가 나오는데, 그 결과를 influxdb 에 적재하고 적재된 데이터를 Grafana 쿼리로 보여주는 것이다.\"\n      })\n    }), \"\\n\", _jsx(_components.note, {\n      children: _jsxs(_components.p, {\n        children: [\"해당 내용들은 \", _jsx(\"a\", {\n          href: \"https://github.com/eottabom/k6-stack\",\n          children: \" k6 stack - eottabom's git \"\n        }), \" 에서 볼 수 있으니, 참고하면 된다.\"]\n      })\n    }), \"\\n\", _jsx(_components.hr, {}), \"\\n\", _jsxs(_components.h2, {\n      id: \"-reference\",\n      children: [_jsx(_components.a, {\n        \"aria-hidden\": \"true\",\n        tabIndex: \"-1\",\n        href: \"#-reference\",\n        children: _jsx(_components.span, {\n          className: \"icon icon-link\"\n        })\n      }), \"📚 Reference\"]\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://k6.io/docs/\",\n          children: \"K6 공식 문서\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://grafana.com/grafana/dashboards/14801-k6-dashboard/\",\n          children: \"Grafana Dashboard #14801\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"https://docs.influxdata.com/influxdb/v1.8/\",\n          children: \"InfluxDB 1.x 문서\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{"title":"Quick Start - k6 (with InfluxDB + Grafana)","date":"2026-01-20","tags":["load-test"],"summary":"Build a reproducible load testing environment with k6, InfluxDB, and Grafana using Docker for reliable performance comparison","description":"Docker 기반으로 k6 부하 테스트 스택을 구성하고, 대시보드 자동화와 메트릭 영속화를 통해 반복 가능한 성능 테스트 환경을 구축해보자."}},"title":"Quick Start - k6 (with InfluxDB + Grafana)","date":"2026-01-20","tags":["load-test"],"summary":"Build a reproducible load testing environment with k6, InfluxDB, and Grafana using Docker for reliable performance comparison","description":"Docker 기반으로 k6 부하 테스트 스택을 구성하고, 대시보드 자동화와 메트릭 영속화를 통해 반복 가능한 성능 테스트 환경을 구축해보자."},"relatedPosts":[]},"__N_SSG":true}