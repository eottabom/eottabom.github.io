---
title: "k6 (with InfluxDB + Grafana)"
date: "2026-01-20"
tags: ["load-test"]
summary: "Build a reproducible load testing environment with k6, InfluxDB, and Grafana using Docker for reliable performance comparison"
description: "Docker 기반으로 k6 부하 테스트 스택을 구성하고, 대시보드 자동화와 메트릭 영속화를 통해 반복 가능한 성능 테스트 환경을 구축해보자."
---

:::info
부하 테스트는 중요하다는 것을 알면서도, 바쁜 일정과 우선순위에 밀려 쉽게 미뤄지곤 한다.
게다가 과거 테스트 결과가 문서나 이미지로 분산되어 관리되다 보니, 이전 결과와 현재 상태를 객관적으로 비교하기도 쉽지 않다.
이런 환경에서는 성능 개선 효과를 명확히 검증하기 어렵고, 경험이나 감각에 의존한 판단이 늘어날 수밖에 없다.
그래서 부하 테스트는 한 번의 실행이 아니라, 반복 가능하고 누적 가능한 환경으로 관리되어야 한다.
초기 구축에는 약간의 비용이 들지만, 한 번 만들어두면 테스트 실행과 결과 확인이 훨씬 쉬워진다.

이 글의 목표는 k6 + InfluxDB + Grafana 를 Docker 로 구성해,
테스트 실행 → 메트릭 저장 → 대시보드 시각화까지 **재현 가능한 부하 테스트 스택**을 빠르게 준비하는 것이다.
:::


## Q. k6 는 무엇인가요?

<BlueText><span style={{ fontSize: '1.5rem', }}>A. </span></BlueText>
[k6](https://k6.io/)는 Grafana Labs에서 개발한 오픈소스 부하 테스트 도구로, 개발자 친화적이고 확장 가능한 성능 테스트 도구이다.


## Q. 다른 테스트 도구들이 많은데 왜 k6 를 이용하나요?

<BlueText><span style={{ fontSize: '1.5rem', }}>A. </span></BlueText>
사실 nGrinder, Locust, Gatling 등 다양한 도구들이 많이 있다.
각각 장점이 분명하겠지만, 무엇보다 빠르게 환경을 구성하고, 반복 가능한 테스트를 운영한다는 관점에서 보면 k6 는 몇 가지 장점을 보인다.

1) 설치와 실행이 단순하다.
- 바이너리 하나 또는 docker 이미지로 바로 실행 할 수 있어서 별도의 에이전트 구성이나 복잡한 서버 세팅이 필요 없다.

2) 다양한 프로토콜을 폭넓게 지원한다.
- HTTP 뿐만 아니라, WebSocket, gRPC, GraphQL 기반 트래픽 생성도 가능하여, 단순 REST API 를 넘어 실서비스와 유사한 시나리오를 구성할 수 있다.

3) 테스트 결과를 옵저버빌리티 관점에서 리포팅 할 수 있다.
- 테스트 결과를 InfluxDB, Prometheus, Cloud 등 외부 스토리지로 전송 할 수 있으며, Grafana 와 연동하여 지표를 시각화 할 수 있다.

4) k6 Operator 를 활용하면 k8s 클러스터 내부에서도 부하 테스트를 실행 할 수 있다.
- 실제 운영 환경과 유사한 네트워크 토폴로지에서 트래픽을 생성하거나, 클러스터 단위 성능 검증도 가능하다.

5) 시나리오 기반 부하 테스트가 가능하다.
- ramp-up, spike, soak, mixed workload 등 다양한 부하 패턴을 하나의 테스트 안에서 정의 가능하다.
- 시간에 따른 사용자 증가, 트래픽 증가, 장시간 안정성 검증, API 조합 시나리오 등 실제 서비스 사용 패턴 시나리오가 가능하다.


## 📚 Reference

*


